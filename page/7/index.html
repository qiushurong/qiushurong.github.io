<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.useso.com/css?family=Monda:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  




<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="小树,邱树荣,小树技术博客,小树博客" />








  <link rel="shortcut icon" type="image/x-icon" href="/images/head.ico?v=5.0.1" />






<meta name="description" content="致力于计算机程式开发">
<meta property="og:type" content="website">
<meta property="og:title" content="小树技术博客">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="小树技术博客">
<meta property="og:description" content="致力于计算机程式开发">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小树技术博客">
<meta name="twitter:description" content="致力于计算机程式开发">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 5322878,
      author: '小树'
    }
  };
</script>

  <title> 小树技术博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  

  <div class="container one-collumn  
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">小树技术博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">用文字留住时间、用博客记录生命</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/03/23/e6-99-9a-e5-ae-89-ef-bc-8c-e5-b9-bf-e5-b7-9e-ef-bc-81/" itemprop="url">
                  晚安，广州！
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-03-23T00:59:40+08:00" content="2014-03-23">
              2014-03-23
            </time>
          </span>

<span class="post-count">&nbsp; | &nbsp;字数 76</span>
<span class="post-count">&nbsp; | &nbsp;预计阅读 0分钟</span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/心情杂谈/" itemprop="url" rel="index">
                    <span itemprop="name">心情杂谈</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/03/23/e6-99-9a-e5-ae-89-ef-bc-8c-e5-b9-bf-e5-b7-9e-ef-bc-81/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/23/e6-99-9a-e5-ae-89-ef-bc-8c-e5-b9-bf-e5-b7-9e-ef-bc-81/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>花了一晚上的时间，把一年之前写过的一个程序漏洞都修复了一遍，发现以前自己的水平真是低的有限呀，处处不符合规范，难怪会有一堆Bug，代码一段时间不写都生疏了。晚安，广州！</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/03/23/pyp-dial/" itemprop="url">
                  番职院电信拨号工具 v3.2.2 Beta (附源代码)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-03-23T00:50:45+08:00" content="2014-03-23">
              2014-03-23
            </time>
          </span>

<span class="post-count">&nbsp; | &nbsp;字数 5,733</span>
<span class="post-count">&nbsp; | &nbsp;预计阅读 31分钟</span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java-SE/" itemprop="url" rel="index">
                    <span itemprop="name">Java SE</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/03/23/pyp-dial/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/23/pyp-dial/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="番职院电信拨号工具-v3-2-2-Beta"><a href="#番职院电信拨号工具-v3-2-2-Beta" class="headerlink" title="番职院电信拨号工具 v3.2.2 Beta"></a>番职院电信拨号工具 v3.2.2 Beta</h1><p><span style="color: #3366ff;">软件主要实现了位于校园网并使用电信天翼作为网络接入商的用户的电信拨号，撇去每次开机都需要在浏览器中输入网址进行拨号的步骤，只要设置为开机启动即可。</span></p>
<p>软件采用 java语言编写，EXE可执行程序采用VB语言编写，在VB语言中调用自带的精简JRE运行jar程序，打包程序使用Actual Installer。</p>
<p><span style="color: #3366ff;">涉及的java知识：</span></p>
<blockquote>
<p>swing界面编程，thread多线程，MVC设计模式，IO流，REGEX正则表达式，Serializable序列化相关，HTTP网络编程。</p>
</blockquote>
<p><span style="color: #3366ff;">文章目录：</span></p>
<blockquote>
<p>一、安装包        二、安装向导      三、软件简介      四、软件源码简析          五、声明</p>
</blockquote>
<h2 id="一、安装包"><a href="#一、安装包" class="headerlink" title="一、安装包"></a>一、安装包</h2><p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_1.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_1.jpg" alt="pyp_util_1"></a></p>
<p><span style="color: #3366ff;">下载地址：</span></p>
<blockquote>
<p><a href="http://pan.baidu.com/s/1eQ7Tcye" target="_blank" rel="external">百度网盘下载</a>(11.38 MB)<br><span style="color: #3366ff;">病毒扫描报告：</span><br>(virscan查毒) ：<a href="http://r.virscan.org/report/d7d8498bacbfc412f5b56fdb04d86871.html" target="_blank" rel="external">查看报告</a></p>
<p>(火眼查毒)：<a href="http://fireeye.ijinshan.com/analyse.html?md5=4f715a2c9717c2e46939823ce7d845db&amp;sha1=a793cec1aaa5bb491b3da7cf00fa30da0d363529&amp;type=1#full" target="_blank" rel="external">查看报告</a></p>
</blockquote>
<h2 id="二、安装向导"><a href="#二、安装向导" class="headerlink" title="二、安装向导"></a>二、安装向导</h2><p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_2.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_2-300x231.jpg" alt="pyp_util_2"></a></p>
<p>开始安装，点击下一步</p>
<p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_3.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_3-300x231.jpg" alt="pyp_util_3"></a></p>
<p>阅读自述信息，点击下一步</p>
<p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_15.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_15-300x175.jpg" alt="pyp_util_15"></a></p>
<p>设置路径或者使用默认路径进行安装，点击下一步</p>
<p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_4.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_4-300x231.jpg" alt="pyp_util_4"></a></p>
<p>安装完成</p>
<p>&nbsp;</p>
<h2 id="三、软件简介"><a href="#三、软件简介" class="headerlink" title="三、软件简介"></a>三、软件简介</h2><p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_5.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_5-300x255.jpg" alt="pyp_util_5"></a></p>
<p>软件主界面</p>
<p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_11.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_11.jpg" alt="pyp_util_11"></a></p>
<p>帐号输入框</p>
<p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_10.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_10.jpg" alt="pyp_util_10"></a></p>
<p>记住密码</p>
<p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_8.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_8.jpg" alt="pyp_util_8"></a></p>
<p>自动拨号</p>
<p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_7.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_7.jpg" alt="pyp_util_7"></a></p>
<p>自动关闭</p>
<p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_9.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_9-300x55.jpg" alt="pyp_util_9"></a></p>
<p>开机启动</p>
<p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_6.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_6-300x39.jpg" alt="pyp_util_6"></a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>设置开机启动方法</p>
<p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_13.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_13-300x81.jpg" alt="pyp_util_13"></a></p>
<p>作者联系信息</p>
<p>&nbsp;</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_12.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_12-300x174.jpg" alt="pyp_util_12"></a></p>
<p>IP设置</p>
<p>&nbsp;</p>
<h2 id="四、软件源码简析"><a href="#四、软件源码简析" class="headerlink" title="四、软件源码简析"></a>四、软件源码简析</h2><p>&nbsp;</p>
<p>源码下载：</p>
<blockquote>
<p><a href="http://pan.baidu.com/s/1qW0NcXu" target="_blank" rel="external">百度网盘下载</a> (76 KB)<br>代码结构:</p>
</blockquote>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_16.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_16-247x300.jpg" alt="pyp_util_16"></a></p>
<p><span style="background-color: #ff0000;">详细代码请看下一页</span></p>
<p>&nbsp;</p>
<h2 id="五、声明"><a href="#五、声明" class="headerlink" title="五、声明"></a>五、声明</h2><p><span style="color: #ff0000;">作者小树，未通过作者允许，不准用于商业行为，但可作为学习或生活使用</span>，使用源码请注明原创作者：小树技术博客(www.qiushurong.cn)，本站保留版权和其他一切权利，有任何问题可以在博客评论或联系我的邮箱(admin@qiushurong.cn). 更多功能请期待…谢谢！</p>
<p>&nbsp;</p>
<blockquote>
<p>如果双击之后没打开程序，没反应的话，(一般XP系统都会如此)，原因是没有安装VC运行库</p>
<p><a href="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_17.jpg" target="_blank" rel="external"><img src="http://www.qiushurong.cn/wp-content/uploads/2014/03/pyp_util_17.jpg" alt="pyp_util_17"></a></p>
<p>下载后安装即可，地址：</p>
<p>32位 <a href="http://www.xiazaiba.com/html/1547.html" target="_blank" rel="external">http://www.xiazaiba.com/html/1547.html</a></p>
<p>64位 <a href="http://www.xiazaiba.com/html/3589.html" target="_blank" rel="external">http://www.xiazaiba.com/html/3589.html</a></p>
<p>或者自己百度 VC2010运行库下载</p>
<p>本软件仅限 广州番禺职业技术学院使用，其他地区GET方式不同，暂时不考虑。<br>作者：广州番禺职业技术学院 - 信息工程学院 - 12软件技术 - 小树</p>
</blockquote>
<p>&nbsp;</p>
<p>下一页：源码</p>
<!--nextpage-->
<p>Mian，程序入口类</p>
<p><pre class="lang:java decode:true">import com.qsuron.action.PypController;<br>import com.qsuron.business.Data;<br>import com.qsuron.model.Conf;<br>import com.qsuron.view.PypFrame;</pre></p>
<p>/**</p>
<ul>
<li>Main类</li>
<li>@author admin@qiushurong.cn<br><em>/<br>public class Main {<br> /*</em><ul>
<li>程序主入口</li>
<li>@param args<br>*/<br>public static void main(String[] args) {<br> PypFrame.InitLookAndFeel();<br> PypFrame view = new PypFrame();<br> Conf model = Data.recover();<br> @SuppressWarnings(“unused”)<br> PypController control = new PypController(view, model);<br> //control.getView().messageBox(“hello”);<br> //System.out.println(control.getView().showIpDial());<br>}<br>}<br>&nbsp;</li>
</ul>
</li>
</ul>
<p>控制类</p>
<p>&nbsp;</p>
<p><pre class="lang:java decode:true">package com.qsuron.action;</pre></p>
<p>import com.qsuron.util.Util;</p>
<p>import java.awt.event.ActionEvent;<br>import java.awt.event.ActionListener;<br>import java.awt.event.WindowAdapter;<br>import java.awt.event.WindowEvent;<br>import java.io.IOException;<br>import java.util.Timer;<br>import java.util.TimerTask;</p>
<p>import javax.swing.JOptionPane;</p>
<p>import com.qsuron.business.Data;<br>import com.qsuron.model.Conf;<br>import com.qsuron.view.PypFrame;</p>
<p>/**</p>
<ul>
<li>控制类</li>
<li><p>@author admin@qiushurong.cn<br>*/<br>public class PypController {<br> private PypFrame view;//视图<br> private Conf model;//模型<br> private Timer timer=new Timer();//计时器</p>
<p> public PypController(PypFrame view,Conf model){</p>
<pre><code>this.view = view;
this.model = model;
this.updateView();
this.setBtnListener();
this.setWindowsClose();
this.initLogin();
</code></pre><p> }</p>
<p> /**</p>
<ul>
<li><p>检查是否自动拨号<br>*/<br>private void initLogin() {<br> Runnable runnable = new Runnable(){</p>
<pre><code>@Override
public void run() {
    if(model.isRemConn() &amp;amp;&amp;amp; !model.getPassword().equals(&quot;&quot;)){
        updateModel();
        login();
    }
}
</code></pre><p> };<br> new Thread(runnable).start();<br>}</p>
<p>/**</p>
</li>
<li><p>拨号<br>*/<br>public void login(){<br> Runnable runnable = new Runnable(){</p>
<pre><code>private int timedelay = 0;
@Override
public void run() {
    //System.out.println(&quot;Thread-login&quot;);
    String flag = Util.launch(model);
    //System.out.println(&quot;+++&quot;+flag);
    if(flag.equals(&quot;登录成功&quot;)){
        if(model.isRemClose()){
            view.getjProgressBar1().setText(&quot;登录成功！3秒后退出程序...&quot;);
            Data.backup(model);
            try {
                Thread.sleep(3500);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
            updateModel();
            Data.backup(model);
            System.exit(0);
        }else{
            view.getjProgressBar1().setText(&quot;登录成功！&quot;);
        }
    }else if(flag.equals(&quot;密码错误&quot;)){
        view.getjProgressBar1().setText(&quot;密码错误！请重新输入密码...&quot;);
        view.getjTextField2().setText(&quot;&quot;);
        view.getjTextField2().requestFocus();
    }else if(flag.equals(&quot;帐号不存在&quot;)){
        view.getjProgressBar1().setText(&quot;帐号不存在！请重新输入...&quot;);
        view.getjTextField1().setText(&quot;&quot;);
        view.getjTextField2().setText(&quot;&quot;);
        view.getjTextField1().requestFocus();
    }else if(flag.equals(&quot;网络异常&quot;)||flag.equals(&quot;IP异常&quot;)||flag.equals(&quot;登录频繁&quot;)){
        timedelay=3000;
        if(flag.equals(&quot;IP异常&quot;)){
            view.getjProgressBar1().setText(&quot;IP异常！请检查锐捷是否开启！重新拨号中...&quot;);
        }else if(flag.equals(&quot;登录频繁&quot;)){
            view.getjProgressBar1().setText(&quot;登录频繁，15秒后自动重试，请无视之，等待即可!&quot;);
            timedelay=16000;
        }else{
            view.getjProgressBar1().setText(&quot;未知返回值,请手动检查能否上网，或联系作者...&quot;);
        }
        timer.schedule(new TimerTask(){
            public void run(){
                if((model.getCountAnd())&amp;gt;60){
                    view.messageBox(&quot;本地网络错误，请先检查锐捷是否开启。\n或者手动设置IP!&quot;);
                    model.setIp(&quot;&quot;);
                    Data.backup(model);
                    System.exit(0);
                }
                login();
                this.cancel();
            }
        },timedelay);//五秒
    }
}
</code></pre><p> };<br> new Thread(runnable).start();<br>}</p>
<p>//关闭按钮响应<br>private void setWindowsClose() {<br> view.addWindowListener(new WindowAdapter(){</p>
<pre><code>@Override
public void windowClosing(WindowEvent e) {
    int option = view.showCloseDial();
    if (option == JOptionPane.YES_OPTION) {
        updateModel();//更新model
        Data.backup(model);//备份model
        System.exit(0);//退出程序
    }else{
        return;
    }
}
</code></pre><p> });<br>}</p>
<p>/**</p>
</li>
<li><p>设置按键监听<br>*/<br>private void setBtnListener() {<br> //拨号连接<br> view.getjButton1().addActionListener(new ActionListener() {</p>
<pre><code>@Override
public void actionPerformed(ActionEvent e) {
    updateModel();//更新model
    login();
}
</code></pre><p> });</p>
<p> //拨号连接<br> view.getjTextField1().addActionListener(new ActionListener() {</p>
<pre><code>@Override
public void actionPerformed(ActionEvent e) {
    updateModel();//更新model
    login();
}
</code></pre><p> });</p>
<p> //手动设置IP<br> view.getjRadioButton1().addActionListener(new ActionListener() {</p>
<pre><code>@Override
public void actionPerformed(ActionEvent e) {
    String ip = view.showIpDial();
    if(ip != null){
        model.setIp(ip);
        view.messageBox(&quot;设置IP[&quot; + model.getIp() + &quot;]成功! 请尝试拨号！&quot;);
        view.getjTabbedPane1().setSelectedIndex(0);
    }
}
</code></pre><p> });</p>
<p> //访问小树技术博客(www.qiushurong.cn)<br> view.getjRadioButton2().addActionListener(new ActionListener() {</p>
<pre><code>@Override
public void actionPerformed(ActionEvent e) {
    //判断当前系统是否支持Java AWT Desktop扩展
    if(java.awt.Desktop.isDesktopSupported()){
        try {
            //创建一个URI实例
            java.net.URI uri = java.net.URI.create(&quot;http://www.qiushurong.cn/&quot;);
            //获取当前系统桌面扩展
            java.awt.Desktop dp = java.awt.Desktop.getDesktop();
            //判断系统桌面是否支持要执行的功能
            if(dp.isSupported(java.awt.Desktop.Action.BROWSE)){
                //获取系统默认浏览器打开链接
                dp.browse(uri);   
            }
        } catch(java.lang.NullPointerException ee){
        } catch (java.io.IOException ee) {
            view.messageBox(&quot;无法打开默认浏览器,请手动访问：www.qiushurong.cn ！谢谢！&quot;);
        }            
    }
}
</code></pre><p> });</p>
<p> //自动关闭<br> view.getjCheckBox3().addActionListener(new ActionListener() {</p>
<pre><code>@Override
public void actionPerformed(ActionEvent e) {
    if(view.getjCheckBox3().isSelected()){
        view.getjProgressBar1().setText(&quot;下次拨号成功后自动退出程序...&quot;);
    }else{
        view.getjProgressBar1().setText(&quot;取消拨号成功后自动退出程序...&quot;);
    }
}
</code></pre><p> });</p>
<p> //自动拨号</p>
<pre><code>view.getjCheckBox2().addActionListener(new ActionListener() {
    @Override
    public void actionPerformed(ActionEvent e) {
        if(view.getjCheckBox2().isSelected()){
            view.getjProgressBar1().setText(&quot;下次打开后自动开始拨号...&quot;);
        }else{
            view.getjProgressBar1().setText(&quot;取消打开后自动开始拨号...&quot;);
        }
    }
});
</code></pre><p> //开机启动<br> view.getjCheckBox4().addActionListener(new ActionListener() {</p>
<pre><code>@Override
public void actionPerformed(ActionEvent e) {
    view.messageBox(&quot;方法一：运行[设置为开机启动.bat](杀毒拦截的话要放行)，方法二：把[快捷方式]拖动到[开始]-[程序]-[启动]中&quot;);
    try {
        String[] cmd = new String[4];
        String url = Data.LOCATION+&quot;/设置为开机启动.bat&quot;;
        url = url.replace(&quot;/&quot;, &quot;\\&quot;);
        //System.out.println(url);
        cmd[0] = &quot;Explorer&quot;;
        cmd[1] = &quot;/select&quot;;
        cmd[2] = &quot;,&quot;;
        cmd[3] = url;
        //cmd[4] = url;
        Runtime.getRuntime().exec(cmd);
    } catch (IOException ee) {
        ee.printStackTrace();
    }
}
</code></pre><p> });</p>
<p> //开机启动<br> view.getjRadioButton3().addActionListener(new ActionListener() {</p>
<pre><code>@Override
public void actionPerformed(ActionEvent e) {
    view.messageBox(&quot;方法一：运行[设置为开机启动.bat](杀毒拦截的话要放行)，方法二：把[快捷方式]拖动到[开始]-[程序]-[启动]中&quot;);
    try {
        String[] cmd = new String[4];
        String url = Data.LOCATION+&quot;/设置为开机启动.bat&quot;;
        url = url.replace(&quot;/&quot;, &quot;\\&quot;);
        //System.out.println(url);
        cmd[0] = &quot;Explorer&quot;;
        cmd[1] = &quot;/select&quot;;
        cmd[2] = &quot;,&quot;;
        cmd[3] = url;
        //cmd[4] = url;
        Runtime.getRuntime().exec(cmd);
    } catch (IOException ee) {
        ee.printStackTrace();
    }
}
</code></pre><p> });</p>
<p> //软件漏洞<br> view.getjRadioButton4().addActionListener(new ActionListener() {</p>
<pre><code>@Override
public void actionPerformed(ActionEvent e) {
    view.messageBox(&quot;[QQ] 280970160  [邮箱] admin@qiushurong.cn  [个人网站] www.qiushurong.cn&quot;);
}
</code></pre><p> });</p>
<p>}</p>
<p>/**</p>
</li>
<li><p>更新视图<br>*/<br>private void updateView() {<br> view.getjTextField1().setText(model.getAccount());<br> view.getjCheckBox1().setSelected(model.isRemPassword());<br> if(model.isRemPassword() &amp;&amp; !model.getPassword().equals(“”)){</p>
<pre><code>view.getjTextField2().setText(model.getPassword());
view.getjButton1().requestFocus();
</code></pre><p> }else{</p>
<pre><code>view.getjTextField2().requestFocus();
</code></pre><p> }<br> view.getjCheckBox2().setSelected(model.isRemConn());<br> view.getjCheckBox3().setSelected(model.isRemClose());<br> view.getjCheckBox4().setSelected(model.isRemStart());<br>}</p>
<p>/**</p>
</li>
<li>更新视图</li>
<li>@param model</li>
<li><p>@param view<br>*/<br>public void updateModel(){<br> model.setAccount(view.getjTextField1().getText());<br> model.setPassword(new String(view.getjTextField2().getPassword()));<br> model.setCount(model.getCount()+1);<br> model.setRemClose(view.getjCheckBox3().isSelected());<br> model.setRemConn(view.getjCheckBox2().isSelected());<br> model.setRemPassword(view.getjCheckBox1().isSelected());<br> model.setRemStart(view.getjCheckBox4().isSelected());<br>}</p>
<p>public PypFrame getView() {<br> return view;<br>}</p>
<p>public Conf getModel() {<br> return model;<br>}<br>}<br>&nbsp;</p>
</li>
</ul>
</li>
</ul>
<p>缓存数据处理类</p>
<p>&nbsp;</p>
<p><pre class="lang:java decode:true">package com.qsuron.business;</pre></p>
<p>import java.io.File;<br>import java.io.FileInputStream;<br>import java.io.FileOutputStream;<br>import java.io.IOException;<br>import java.io.ObjectInputStream;<br>import java.io.ObjectOutputStream;<br>import java.io.UnsupportedEncodingException;<br>import java.net.URLDecoder;</p>
<p>import com.qsuron.model.Conf;</p>
<p>/**</p>
<ul>
<li>缓存数据处理类(序列化Model类)</li>
<li><p>@author admin@qiushurong.cn<br>*/<br>public class Data {<br> public static String LOCATION;//序列化文件所在位置</p>
<p> //静态代码段，获取主程序的路径<br> static {</p>
<pre><code>try {
    LOCATION = URLDecoder.decode(Data.class.getProtectionDomain().getCodeSource().getLocation().getFile(),&quot;UTF-8&quot;);
    LOCATION = LOCATION.substring(1,LOCATION.lastIndexOf(&apos;/&apos;));
} catch (UnsupportedEncodingException e) {
    LOCATION = &quot;&quot;;
}
</code></pre><p> }</p>
<p> public static void main(String[] args) {</p>
<pre><code>/*
Conf model = Data.recover();
System.out.println(model.getAccount());
*/

/*
Conf model = new Conf();
model.setAccount(&quot;qsuron&quot;);
model.setRemClose(true);
backup(model);
*/
</code></pre><p> }</p>
<p> /**</p>
<ul>
<li>配置文件序列化恢复</li>
<li><p>@return Conf<br>*/<br>public static Conf recover() {<br> File file = new File(LOCATION+”\jre\Conf”);<br> Conf model = new Conf();<br> System.out.println(file.getAbsolutePath()+” exist:”+file.exists());<br> if(file.exists()){</p>
<pre><code>ObjectInputStream ois = null;
try{
    ois = new ObjectInputStream(new FileInputStream(file));
    model = (Conf)ois.readObject();
    ois.close();
}catch(Exception e){
    e.printStackTrace();
}finally{
    try {
        ois.close();
    } catch (IOException e) {
        e.printStackTrace();
    }
}
</code></pre><p> }<br> return model;<br>}</p>
<p>/**</p>
</li>
<li>配置文件序列化备份</li>
<li>@param model<br>*/<br>public static void backup(Conf model) {<br> File file = new File(LOCATION+”\jre\Conf”);<br> ObjectOutputStream oos = null;<br> try{<pre><code>oos = new ObjectOutputStream(new FileOutputStream(file));
oos.writeObject(model);
oos.close();
</code></pre> }catch(Exception e){<pre><code>e.printStackTrace();
</code></pre> }finally{<pre><code>try {
    oos.close();
} catch (IOException e1) {
    e1.printStackTrace();
}
</code></pre> }<br>}<br>}<br>&nbsp;</li>
</ul>
</li>
</ul>
<p>Model类  存储各种配置信息</p>
<p><pre class="lang:java decode:true">package com.qsuron.model;</pre></p>
<p>import java.io.Serializable;</p>
<p>/**</p>
<ul>
<li>Model 存储各种配置信息</li>
<li><p>@author admin@qiushurong.cn<br>*/<br>public class Conf implements Serializable{<br> private static final long serialVersionUID = 8233781718173174500L;</p>
<p> private String account,password;</p>
<p> private String ip = “”;</p>
<p> private boolean remPassword,remConn,remClose,remStart;</p>
<p> private int count = 0;</p>
<p> public String getIp() {</p>
<pre><code>if(this.ip == null)
    return &quot;&quot;;
return ip;
</code></pre><p> }</p>
<p> public void setIp(String ip) {</p>
<pre><code>this.ip = ip;
</code></pre><p> }</p>
<p> public int getCount() {</p>
<pre><code>return count;
</code></pre><p> }</p>
<p> public int getCountAnd() {</p>
<pre><code>this.count++;
return count;
</code></pre><p> }</p>
<p> public void setCount(int count) {</p>
<pre><code>this.count = count;
</code></pre><p> }</p>
<p> public String getAccount() {</p>
<pre><code>return account;
</code></pre><p> }</p>
<p> public void setAccount(String account) {</p>
<pre><code>this.account = account;
</code></pre><p> }</p>
<p> public String getPassword() {</p>
<pre><code>return password;
</code></pre><p> }</p>
<p> public void setPassword(String password) {</p>
<pre><code>this.password = password;
</code></pre><p> }</p>
<p> public boolean isRemPassword() {</p>
<pre><code>return remPassword;
</code></pre><p> }</p>
<p> public void setRemPassword(boolean remPassword) {</p>
<pre><code>this.remPassword = remPassword;
</code></pre><p> }</p>
<p> public boolean isRemConn() {</p>
<pre><code>return remConn;
</code></pre><p> }</p>
<p> public void setRemConn(boolean remConn) {</p>
<pre><code>this.remConn = remConn;
</code></pre><p> }</p>
<p> public boolean isRemClose() {</p>
<pre><code>return remClose;
</code></pre><p> }</p>
<p> public void setRemClose(boolean remClose) {</p>
<pre><code>this.remClose = remClose;
</code></pre><p> }</p>
<p> public boolean isRemStart() {</p>
<pre><code>return remStart;
</code></pre><p> }</p>
<p> public void setRemStart(boolean remStart) {</p>
<pre><code>this.remStart = remStart;
</code></pre><p> }</p>
</li>
</ul>
<p>}<br>&nbsp;</p>
<p>拨号工具类</p>
<p>&nbsp;</p>
<p><pre class="lang:java decode:true">package com.qsuron.util;<br>import java.io.BufferedReader;<br>import java.io.InputStreamReader;<br>import java.net.URL;<br>import java.util.Scanner;</pre></p>
<p>import com.qsuron.model.Conf;</p>
<p>/**</p>
<ul>
<li>拨号工具类</li>
<li><p>@author admin@qiushurong.cn<br>*/<br>public class Util {</p>
<p> /**</p>
<ul>
<li>@param account 帐号</li>
<li>@param password 密码</li>
<li>@return</li>
<li>IP异常</li>
<li>登录成功</li>
<li>登录频繁</li>
<li>密码错误</li>
<li>帐号不存在</li>
<li><p>网络异常<br>*/<br>public static String launch(Conf model){<br> String flag=”网络异常”;<br> String ip = model.getIp();<br> String hostip=””;<br> BufferedReader br = null;<br> Process p = null;</p>
<p> if(!ip.matches(“192\.168\.\d{1,3}\.\d{1,3}”)) {</p>
<pre><code>try {
    hostip = java.net.InetAddress.getLocalHost().getHostAddress();
    ip = hostip.substring(0,hostip.lastIndexOf(&apos;.&apos;))+&quot;.1&quot;;
    p = Runtime.getRuntime().exec(&quot;ping &quot;+ip+&quot; -n 1&quot;);
    br = new BufferedReader(new InputStreamReader(p.getInputStream()));
    String line = null;
    StringBuilder sb=new StringBuilder();
    while ((line = br.readLine()) != null) {
        sb.append(line+&quot;\n&quot;);
    }
    if(sb.toString().contains(&quot;丢失 = 0&quot;)){
        flag=&quot;网络异常&quot;;
    }else{
        flag=&quot;IP异常&quot;;
    }
} catch (Exception e) {
}
System.out.println(&quot;ip.1-&quot;+ip);
if(!ip.matches(&quot;192\\.168\\.\\d{1,3}\\.\\d{1,3}&quot;) || flag.equals(&quot;IP异常&quot;)) {
    flag = &quot;IP异常&quot;;
    return flag;
}
model.setIp(hostip);
</code></pre><p> }else{</p>
<pre><code>hostip = ip;
</code></pre><p> }</p>
<p> try {</p>
<pre><code>flag = &quot;网络异常&quot;;
String command = &quot;http://219.136.125.139/portalAuthAction.do?wlanacIp=121.33.224.66&amp;amp;auth_type=PAP&amp;amp;wlanacname=pyzyxy&amp;amp;wlanuserip=&quot;
+ hostip + &quot;&amp;amp;bank_acct=bank_acct&amp;amp;userid=&quot;
+ model.getAccount() + &quot;@PYZYXY.GZ&amp;amp;passwd=&quot;
+ model.getPassword();
URL url=new URL(command);
//System.out.println(&quot;new URL(address)&quot;);
Scanner s = new Scanner(url.openStream());
//System.out.println(&quot;url.openStream()&quot;);
String temp = new String();;
while(s.hasNextLine()){
    temp = new String(s.nextLine().getBytes(&quot;gb2312&quot;),&quot;GBK&quot;);
    System.out.println(temp);
    if(temp.contains(&quot;我要下线&quot;)) {
        flag = &quot;登录成功&quot;;
        break;
    } else if(temp.contains(&quot;Please in 15 seconds after the restart!&quot;)) {
        flag=&quot;登录频繁&quot;;
        break;
    } else if(temp.contains(&quot;Error 1002&quot;)) {
        flag = &quot;密码错误&quot;;
        break;
    } else if(temp.contains(&quot;Error 1001&quot;)) {
        flag = &quot;帐号不存在&quot;;
        break;
    }
}
s.close();
</code></pre><p> } catch (Exception ex) {</p>
<pre><code>ex.printStackTrace();
flag = &quot;网络异常&quot;;
</code></pre><p> }<br> return flag;<br>}</p>
</li>
</ul>
</li>
</ul>
<p>}<br>界面类</p>
<p>&nbsp;</p>
<p><pre class="lang:java decode:true">package com.qsuron.view;</pre></p>
<p>import java.awt.BorderLayout;<br>import java.awt.Color;<br>import java.awt.Container;<br>import java.awt.Dimension;<br>import java.awt.Toolkit;</p>
<p>import javax.swing.GroupLayout;<br>import javax.swing.JButton;<br>import javax.swing.JCheckBox;<br>import javax.swing.JDialog;<br>import javax.swing.JFrame;<br>import javax.swing.JLabel;<br>import javax.swing.JOptionPane;<br>import javax.swing.JPanel;<br>import javax.swing.JPasswordField;<br>import javax.swing.JRadioButton;<br>import javax.swing.JTabbedPane;<br>import javax.swing.JTextField;<br>import javax.swing.LayoutStyle;<br>import javax.swing.SwingConstants;<br>import javax.swing.UIManager;</p>
<p>/**</p>
<ul>
<li>界面类</li>
<li><p>@author admin@qiushurong.cn<br>*/<br>public class PypFrame extends JFrame{<br> private static final long serialVersionUID = -1;</p>
<p> private static final String TITLE = “电信拨号工具 - v3.2.2 Beta”;</p>
<p> private JButton jButton1 = new JButton(“拨号连接”);            // 拨号连接<br> private JCheckBox jCheckBox1 = new JCheckBox(“记住密码”);    // 记住密码<br> private JCheckBox jCheckBox2 = new JCheckBox(“自动拨号”);    // 自动拨号<br> private JCheckBox jCheckBox3 = new JCheckBox(“自动关闭”);    // 自动关闭<br> private JCheckBox jCheckBox4 = new JCheckBox(“开机自启”);    // 开机自启<br> private JLabel jLabel1 = new JLabel();//帐号<br> private JLabel jLabel2 = new JLabel();//密码<br> private JLabel jLabel3 = new JLabel();//@PYZYXY.GZ<br> private JPanel jPanel1 = new JPanel();// 面板 - 拨号工具<br> private JPanel jPanel2 = new JPanel();// 面板 - 设置帮助<br> private JLabel jProgressBar1 = new JLabel();// 提示信息</p>
<p> private JRadioButton jRadioButton1 = new JRadioButton();<br> private JRadioButton jRadioButton2 = new JRadioButton();<br> private JRadioButton jRadioButton3 = new JRadioButton();<br> private JRadioButton jRadioButton4 = new JRadioButton();<br> private JRadioButton jRadioButton5 = new JRadioButton();<br> private JTabbedPane jTabbedPane1 = new JTabbedPane();<br> private JTextField jTextField1 = new JTextField();// 账号框<br> private JPasswordField jTextField2 = new JPasswordField ();// 密码框<br> private int width,height;</p>
<p> public PypFrame(){</p>
<pre><code>initComponents();
</code></pre><p> }</p>
<p> /**</p>
<ul>
<li><p>界面初始化<br>*/<br>private void initComponents() {</p>
<p> this.InitText();</p>
<p> this.InitToolTipText();</p>
<p> jPanel1.setPreferredSize(new Dimension(260, 180));<br> jTextField1.setColumns(10);<br> jTextField2.setColumns(10);<br> jTextField2.setEchoChar(‘*’);</p>
<p> //this.InitMenu(jMenuBar1);</p>
<p> this.InitLayout(jPanel1, jPanel2, getContentPane());</p>
<p> this.InitTab(jTabbedPane1, jPanel1, jPanel2);</p>
<p> this.pack();</p>
<p> // 定义工具包,获取屏幕的尺寸,使窗口位于正中央<br> Toolkit kit = Toolkit.getDefaultToolkit();<br> width = kit.getScreenSize().width/2-this.getWidth()/2;<br> height = kit.getScreenSize().height/2-this.getHeight()/2;<br> this.setLocation(width,height);<br> this.setResizable(false);<br> this.setTitle(TITLE);<br> this.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);</p>
<p> jProgressBar1.setBackground(Color.GRAY);<br> jProgressBar1.setForeground(Color.RED);</p>
<p> // 使得帐号框取得焦点<br> jTextField1.requestFocus();</p>
<p> this.setVisible(true);<br>}</p>
<p>/<em> Set the Tab Panel </em>/<br>private void InitTab(JTabbedPane jTabbedPane1,JPanel jPanel1,JPanel jPanel2) {<br> jTabbedPane1.addTab(“拨号工具”, jPanel1);<br> jTabbedPane1.addTab(“设置帮助”, jPanel2);<br> jTabbedPane1.setSelectedIndex(0);<br> jTabbedPane1.setSelectedComponent(jPanel1);<br>}</p>
<p>/<em> Set all the Text </em>/<br>private void InitText() {<br> jLabel1.setText(“帐号”);<br> jLabel2.setText(“密码”);<br> jLabel3.setText(“ @PYZYXY.GZ”);<br> jProgressBar1.setText(“已就绪!”);<br> jRadioButton1.setText(“手动设置IP地址 [解决多网卡的IP异常]”);<br> jRadioButton2.setText(“访问 小树技术博客 [www.qiushurong.cn]”);<br> jRadioButton3.setText(“设置开机自启方法”);<br> jRadioButton4.setText(“软件漏洞：请联系作者，不甚感激!”);<br> jRadioButton5.setText(“作者：番职院 信工 12软测 小树 2013 09 01”);<br>}</p>
<p>/<em> Set All ToolTip Text </em>/<br>private void InitToolTipText() {<br> jTextField1.setToolTipText(“请输入宽带帐号：学号/手机号(需开通)”);<br> jTextField2.setToolTipText(“请输入宽带密码(8位以上)”);<br> jCheckBox3.setToolTipText(“拨号成功后自动退出程序释放内存”);<br> jCheckBox4.setToolTipText(“配合‘锐捷开机自启’可以在开机后完全自动拨号上网”);<br> jCheckBox2.setToolTipText(“下次启动程序后自动开始拨号连接”);<br> jCheckBox1.setToolTipText(“记住密码,下次启动程序无需输入密码”);<br> jProgressBar1.setToolTipText(“提示栏”);<br>}</p>
<p>/<em> Set the JPanel’s Layout </em>/<br>private void InitLayout(JPanel jPanel1, JPanel jPanel2, Container contentPanel) {</p>
<p> GroupLayout jPanel1Layout = new GroupLayout(jPanel1);<br> GroupLayout jPanel2Layout = new GroupLayout(jPanel2);<br> GroupLayout layout = new GroupLayout(contentPanel);<br> jPanel1.setLayout(jPanel1Layout);<br> jPanel2.setLayout(jPanel2Layout);<br> contentPanel.setLayout(layout);</p>
<p> jPanel1Layout.setHorizontalGroup(</p>
<pre><code>jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
.addGroup(jPanel1Layout.createSequentialGroup()
.addContainerGap()
.addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
.addGroup(jPanel1Layout.createSequentialGroup()
.addComponent(jCheckBox2)
.addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
.addComponent(jCheckBox3)
.addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
.addComponent(jCheckBox4)
.addGap(8, 8, 8))
.addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
.addComponent(jButton1, GroupLayout.Alignment.LEADING, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
.addGroup(GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
.addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.TRAILING)
.addComponent(jLabel1)
.addComponent(jLabel2))
.addGap(18, 18, 18)
.addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
.addComponent(jTextField1)
.addGroup(jPanel1Layout.createSequentialGroup()
.addComponent(jTextField2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
.addGap(0, 0, Short.MAX_VALUE)))
.addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
.addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
.addComponent(jLabel3)
.addComponent(jCheckBox1)))))
.addGap(72, 72, 72))
</code></pre><p> );<br> jPanel1Layout.setVerticalGroup(</p>
<pre><code>jPanel1Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
    .addGroup(jPanel1Layout.createSequentialGroup()
    .addContainerGap()
    .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
    .addComponent(jTextField1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
    .addComponent(jLabel1)
    .addComponent(jLabel3))
    .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
    .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
    .addComponent(jLabel2)
    .addComponent(jCheckBox1)
    .addComponent(jTextField2, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE))
    .addGap(2, 2, 2)
    .addComponent(jButton1)
    .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
    .addGroup(jPanel1Layout.createParallelGroup(GroupLayout.Alignment.BASELINE)
    .addComponent(jCheckBox3)
    .addComponent(jCheckBox2)
    .addComponent(jCheckBox4))
    .addContainerGap(13, Short.MAX_VALUE))
</code></pre><p> );</p>
<p> jPanel2Layout.setHorizontalGroup(</p>
<pre><code>jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
    .addGroup(jPanel2Layout.createSequentialGroup()
    .addContainerGap()
    .addGroup(jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
    .addComponent(jRadioButton3)
    .addComponent(jRadioButton1)
    .addComponent(jRadioButton2)
    .addComponent(jRadioButton4)
    .addComponent(jRadioButton5))
    .addContainerGap(20, Short.MAX_VALUE))
);
</code></pre><p> jPanel2Layout.setVerticalGroup(</p>
<pre><code>jPanel2Layout.createParallelGroup(GroupLayout.Alignment.LEADING)
    .addGroup(jPanel2Layout.createSequentialGroup()
    .addContainerGap()
    .addComponent(jRadioButton3)
    .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
    .addComponent(jRadioButton1)
    .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
    .addComponent(jRadioButton2)
    .addPreferredGap(LayoutStyle.ComponentPlacement.UNRELATED)
    .addComponent(jRadioButton4)
    .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
    .addComponent(jRadioButton5))
);
</code></pre><p> layout.setHorizontalGroup(</p>
<pre><code>layout.createParallelGroup(GroupLayout.Alignment.LEADING)
    .addGroup(layout.createSequentialGroup()
    .addContainerGap()
    .addGroup(layout.createParallelGroup(GroupLayout.Alignment.LEADING, false)
    .addComponent(jTabbedPane1, GroupLayout.PREFERRED_SIZE, 263, GroupLayout.PREFERRED_SIZE)
    .addComponent(jProgressBar1, GroupLayout.DEFAULT_SIZE, GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
    .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
);
</code></pre><p> layout.setVerticalGroup(</p>
<pre><code>layout.createParallelGroup(GroupLayout.Alignment.LEADING)
    .addGroup(layout.createSequentialGroup()
    .addContainerGap()
    .addComponent(jTabbedPane1, GroupLayout.PREFERRED_SIZE, 170, GroupLayout.PREFERRED_SIZE)
    .addPreferredGap(LayoutStyle.ComponentPlacement.RELATED)
    .addComponent(jProgressBar1, GroupLayout.PREFERRED_SIZE, GroupLayout.DEFAULT_SIZE, GroupLayout.PREFERRED_SIZE)
    .addContainerGap(GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
);
</code></pre><p>}</p>
<p>/<em> Set the Nimbus look and feel </em>/<br>public static void InitLookAndFeel(){<br> try {</p>
<pre><code>for (UIManager.LookAndFeelInfo info : UIManager.getInstalledLookAndFeels()) {
    if (&quot;Nimbus&quot;.equals(info.getName())) {
        UIManager.setLookAndFeel(info.getClassName());
        break;
    }
}
</code></pre><p> } catch (Exception e) {</p>
<pre><code>e.printStackTrace();
</code></pre><p> }<br>}</p>
<p>/<em> Main </em>/<br>public static void main(String[] args) {</p>
<p>}</p>
<p>public JButton getjButton1() {<br> return jButton1;<br>}</p>
<p>public JCheckBox getjCheckBox1() {<br> return jCheckBox1;<br>}</p>
<p>public JCheckBox getjCheckBox2() {<br> return jCheckBox2;<br>}</p>
<p>public JCheckBox getjCheckBox3() {<br> return jCheckBox3;<br>}</p>
<p>public JCheckBox getjCheckBox4() {<br> return jCheckBox4;<br>}</p>
<p>public JTextField getjTextField1() {<br> return jTextField1;<br>}</p>
<p>public JPasswordField getjTextField2() {<br> return jTextField2;<br>}</p>
<p>public JLabel getjProgressBar1() {<br> return jProgressBar1;<br>}</p>
<p>public JRadioButton getjRadioButton1() {<br> return jRadioButton1;<br>}</p>
<p>public JRadioButton getjRadioButton2() {<br> return jRadioButton2;<br>}</p>
<p>public JRadioButton getjRadioButton3() {<br> return jRadioButton3;<br>}</p>
<p>public JRadioButton getjRadioButton4() {<br> return jRadioButton4;<br>}</p>
<p>public JRadioButton getjRadioButton5() {<br> return jRadioButton5;<br>}</p>
<p>public JTabbedPane getjTabbedPane1() {<br> return jTabbedPane1;<br>}</p>
<p>/**</p>
</li>
<li>关闭程序提示框</li>
<li><p>@return<br>*/<br>public int showCloseDial() {<br> return JOptionPane.showConfirmDialog(this, “是否完全退出软件？”,</p>
<pre><code>&quot;系统提示&quot;, JOptionPane.YES_NO_OPTION,
JOptionPane.QUESTION_MESSAGE);
</code></pre><p>}</p>
<p>/**</p>
</li>
<li>IP设置输入框</li>
<li><p>@return<br>*/<br>public String showIpDial() {<br> return JOptionPane.showInputDialog(“输入您的IP地址： 192.168.???.??? .”);<br>}</p>
<p>// Build MsgBox<br>public void messageBox(String s){<br> JDialog dialog = new JDialog(this,true);<br> dialog.setTitle(“提示信息”);</p>
<p> dialog.add(new JLabel(“ “),BorderLayout.NORTH);<br> dialog.add(new JLabel(“    “+s+”    “,SwingConstants.CENTER),BorderLayout.CENTER);<br> dialog.add(new JLabel(“ “),BorderLayout.SOUTH);<br> dialog.setLocation(width+10,height+50);<br> dialog.setResizable(false);<br> dialog.pack();<br> dialog.setVisible(true);<br>}<br>}<br>&nbsp;</p>
</li>
</ul>
</li>
</ul>
<p>源码下载地址在上一页中已经给出。</p>
<p>&nbsp;</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/03/21/mind-control/" itemprop="url">
                  最近尤为发觉自己的情绪控制能力实在太差了
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-03-21T22:44:05+08:00" content="2014-03-21">
              2014-03-21
            </time>
          </span>

<span class="post-count">&nbsp; | &nbsp;字数 244</span>
<span class="post-count">&nbsp; | &nbsp;预计阅读 1分钟</span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/心情杂谈/" itemprop="url" rel="index">
                    <span itemprop="name">心情杂谈</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/03/21/mind-control/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/21/mind-control/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><span style="background-color: #ffffff;">不管是低落，伤心，不满，愤怒还是憎恨，</span></p>
<p><span style="background-color: #ffffff;">甚至是开心，</span></p>
<p><span style="background-color: #ffffff;">总有一种无法驾驭的感觉。</span></p>
<p><span style="background-color: #ffffff;"> 很容易地表现出来，</span></p>
<p><span style="background-color: #ffffff;">即使我不会大吵大骂，</span></p>
<p><span style="background-color: #ffffff;">甚至一般都是低头不说话，</span></p>
<p><span style="background-color: #ffffff;">但是感觉自己明显驾驭不了自己的情绪，</span></p>
<p><span style="background-color: #ffffff;">尤为是最近的生活，</span></p>
<p><span style="background-color: #ffffff;">总是被情绪所左右着。</span></p>
<p><span style="background-color: #ffffff;"> 这是不是EQ太低的表现呢？</span></p>
<p><span style="background-color: #ffffff;">算了，不理会那么多，</span></p>
<p><span style="background-color: #ffffff;">想得多了只会无奈。</span></p>
<p><span style="background-color: #ffffff;">我想去图书馆静静心。</span></p>
<p>2014-03-21 22:40 于 青山湖畔</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/03/19/audio/" itemprop="url">
                  LibGDX游戏引擎-9-游戏音乐(Audio)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-03-19T08:32:42+08:00" content="2014-03-19">
              2014-03-19
            </time>
          </span>

<span class="post-count">&nbsp; | &nbsp;字数 1,633</span>
<span class="post-count">&nbsp; | &nbsp;预计阅读 7分钟</span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/libGDX框架/" itemprop="url" rel="index">
                    <span itemprop="name">libGDX框架</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/03/19/audio/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/19/audio/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>一个可玩性高的游戏，必须要有优美的音乐，才能满足用户的需要。游戏中的音乐有许多种，例如：背景音乐、游戏插曲、打击声、按键声等,这些都是游戏必不可少的元素。libgdx引擎同样为我们封装了<span style="color: #ff0000;"><strong>音频模块</strong></span><span style="color: #000000;">（The Audio Module）为了方便我们能更好的开发游戏，今天我们就来详细的介绍下,libgdx中的音频模块的使用方法。</span><br>libgdx的音频其实真的很简单。你可以使用三种方式来输出你所需要的声音：</p>
</blockquote>
<ul>
<li>第一种情况像枪声、按键声、转屏声等这些都可以使用Sound来实现。</li>
<li>第二种就是类似于背景音乐、人物对话等比较长的音乐可以使用Music来实现，</li>
<li>第三种就是你直接写PCM数据AudioDevice。libgdx封装了这3种类型的声音输出作为接口，<blockquote>
<p><span style="color: #ff0000;">Audio 接口</span></p>
<pre class="lang:java decode:true ">public interface Audio {

   public Sound newSound(FileHandle fileHandle);

   public Music newMusic(FileHandle file);

   public AudioDevice newAudioDevice(boolean isMono);

}</pre>

<p>&nbsp;<br><span style="color: #3366ff;">他们被称为：声音、AudioDevice、音乐。声音和应用都是系统资源。如果图形资源一样，你必须在它们不再被使用的时候，通过调用Sound.dispose()和Music.dispose()方法释放它们。Libgdx支持mp3,Ogg以及Wave文件格式，我建议你在大多数情况下使用Ogg格式。如果你需要对音频设备更多的控制，那么你可以使用AudioDevice和AudioRecorder类，这两个类可以从Audio接口得到。这些类允许你从物理音频设备输出PCM音频样本，也允许你使用麦克风记录PCM样本。不要忘记清理它们。</span></p>
</blockquote>
</li>
</ul>
<p><span style="color: #3366ff;">支持格式：mp3、ogg、wav等。</span></p>
<blockquote>
<p>大家可以看到，接口中包含2个方法，都可以通过检索文件的方式来获取我们所要使用的资源，当你创建一个新的AudioDevice时候，可以指定是否设置单声道或立体声。如果不设置的话，libgdx默认设置为44100Hz采样率，这样方便我们使用音频接口。</p>
<p><pre class="lang:java decode:true">Sound  sound = Gdx.audio.newSound(Gdx.files.internal(“sound.wav”));<br>Music music = Gdx.audio.newMusic(Gdx.files.internal(“xxx.ogg”));</pre><br>&nbsp;</p>
</blockquote>
<p>下面介绍Sound类</p>
<!--nextpage-->
<p>下面介绍Sound类</p>
<p>&nbsp;</p>
<blockquote>
<p><span style="color: #ff0000;">Sound 类</span><br>Sound（声音）类旨在播放声音效果。通常你从一个文件中加载声音效果，根据某些事件，例如僵尸脑袋爆炸，调用Sound.play()方法播放它。声音通常很短，在几秒钟的范围内。他们会在内存中加载和解码。如果它们长时间的运行，很可能会占据很大的一些内存。<br><span style="color: #3366ff;">API定义：</span></p>
</blockquote>
<p>一段短音频的剪辑，可以在实现多次播放。它是完全加载到内存的，并且只负责加载小的音频文件。当该生硬使用结束后，调用dispose方法来销毁。</p>
<p><span style="color: #3366ff;">支持格式：</span></p>
<p>支持wav格式，不支持ogg格式。</p>
<p><span style="color: #3366ff;">使用方法：</span></p>
<p>首先是声明变量，由于需要加载如文件，这样就需要用到内部载入命令如何加入，前面的教程我们已经学习了，不清楚的同学可以去看一下，复习一下。随后我们是通过audio接口来创建新的newSound,而不是创建一段声音。代码如下：</p>
<p><pre class="lang:java decode:true">Sound  sound = Gdx.audio.newSound(Gdx.files.internal(“sound.wav”));</pre><br><span style="color: #3366ff;">方法介绍：</span></p>
<ul>
<li>（1）设置循环播放：在Sound类中自带了一个setLooping（boolean 参数）方法，将括号的参数 真 是设置循环播放，</li>
<li>假 是仅播放一次。</li>
<li>（2）设置播放：声音当然要有播放的方法了，我们通过 play（）方法来实现声音的播放。</li>
<li>（3）设置音量大小：通过 setVolume（int i）方法来这只音量大小，在括号内传入整形参数，就可以设置播放音量大小了。<br>&nbsp;</li>
</ul>
<p><span style="color: #3366ff;">播放代码如下：</span></p>
<p><pre class="lang:java decode:true">sound.setLooping(true);<br>sound.play();<br>sound.setVolume(15);</pre><br>&nbsp;</p>
<p>下面介绍Music类</p>
<!--nextpage-->
<p>下面介绍Music类</p>
<blockquote>
<p><span style="color: #ff0000;">Music 类</span><br>Music（音乐）是你所想要使用的为了播放很长事件的声音（或者，好吧，就是音乐）的类。音乐是流的形式，那意味它仅仅是部分被装载进入了内存，根据文件格式解码，然后输出到音频设备中。</p>
</blockquote>
<p><span style="color: #3366ff;">API定义：</span></p>
<p>一段长音频的剪辑，可以在实现多次播放。它是完全加载到内存的，并且只负责加载大的音频文件。当该声音使用结束后，调用dispose方法来销毁。</p>
<p><span style="color: #3366ff;">支持格式：</span></p>
<p>支持MP3 OGG WAV等格式。</p>
<p><span style="color: #3366ff;">使用方法：</span></p>
<p>首先是声明变量，由于需要加载如文件，这样就需要用到内部载入命令如何加入，随后我们是通过audio接口来创建新的newSound，而不是创建一段声音。</p>
<p><span style="color: #3366ff;">代码如下：</span></p>
<p><pre class="lang:java decode:true">Music music = Gdx.audio.newMusic(Gdx.files.internal(“xxx.ogg”));</pre><br><span style="color: #3366ff;">方法介绍：</span></p>
<ul>
<li>（1）设置循环播放：在music类中自带了一个setLooping（boolean 参数）方法，将括号的参数 真 是设置循环播放，假是仅播放一次。</li>
<li>（2）设置播放：声音当然要有播放的方法了，我们通过 play（）方法来实现声音的播放。</li>
<li>（3）设置音量大小：通过 setVolume（int i）方法来这只音量大小，在括号内传入整形参数，就可以设置播放音量大小了。</li>
<li>（4）设置播放：通过play（）方法来实现开始播放。</li>
<li>(5)设置暂停：通过pasue（）方法来实现暂停。<br><span style="color: #3366ff;">播放代码如下：</span><br><pre class="lang:java decode:true">music.setLooping(true);<br>music.play();<br>music.setVolume(15);</pre><br>&nbsp;</li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/03/19/stage/" itemprop="url">
                  LibGDX游戏引擎-8舞台类的使用(Stage)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-03-19T08:13:45+08:00" content="2014-03-19">
              2014-03-19
            </time>
          </span>

<span class="post-count">&nbsp; | &nbsp;字数 2,577</span>
<span class="post-count">&nbsp; | &nbsp;预计阅读 13分钟</span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/libGDX框架/" itemprop="url" rel="index">
                    <span itemprop="name">libGDX框架</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/03/19/stage/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/19/stage/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>舞台类相比于演员类来说，更容易理解，它其实从功能的角度来说就是负责管理演员和Group类的平台，他本身的存在就是为了管理，而不是去负责演出，他就像一个导演一样，只负责管理，具体如何表演，那不是舞台所负责的事情。我们通过实现一个游戏中常见的商店系统来学习舞台类<br><span style="color: #ff0000;">Stage类</span><br><span style="color: #3366ff;">API定义：</span></p>
</blockquote>
<p>包含拥有层次结构的一个二维场景，场景中有许多演员。处理视图和分配的输入事件。舞台负责操作视角，和处理分配输入事件。</p>
<p>&nbsp;</p>
<p><span style="color: #3366ff;">功能作用：</span></p>
<ul>
<li>1 充满整个屏幕。</li>
<li>2 设置视角和使用的相机，调配 Actor、Group 与 Screen 之间的关系转换（包括坐标）。</li>
<li>3 接收输入事件，并将它分配给演员。(通过gdx.input.setinputprocessor(Stage)来实现)</li>
<li>4 处理输入事件的不同阶段，即之前或之后。(inputmultiplexer)如果一个演员通过返回TRUE从输入的方法中处理一个事件，那么Stage的输入方法也会返回true，导致随后的inputprocessors不接收事件。<br><span style="color: #3366ff;">使用方法：</span></li>
</ul>
<p>Stage(float width, float height, boolean keepAspectRatio, SpriteBatch batch)</p>
<ul>
<li>（1）第一个参数：设置舞台的宽度。</li>
<li>（2）第二个参数：设置舞台的高度。</li>
<li>（3）第三个参数：是负责是否让舞台铺满屏幕，如果这个值是假的话，舞台的尺寸就是你设置的大小。如果是真的话，就铺满屏幕。</li>
<li><p>（4）第四个参数：就是传入你所声明的Spirtibatch。</p>
<blockquote>
<p>常用：</p>
<p>stage = new Stage(800, 480, false, batch);</p>
<p>stage.addActor(image_stage_background);</p>
<p>Gdx.input.setInputProcessor(stage);</p>
<p>stage.act();</p>
<p>stage.draw();<br><span style="color: #3366ff;">功能分析:</span><br><span style="color: #3366ff;">这次我们通过一个游戏中的商店系统来实现多舞台的使用，同时了解舞台是如何切换的。一个简单的游戏商店需要有4个元素：</span></p>
</blockquote>
</li>
<li><p>（1）商店按钮，按钮应该在游戏的画面内部。</p>
</li>
<li>（2）商店货架，陈列出售的物品。</li>
<li>（3）商品，出售的商品，点击商品需要有返回效果。</li>
<li>（4）购买结束状态，这里就弹出“购买成功”作为结束状态。<br><span style="color: #3366ff;">编码步骤:</span></li>
</ul>
<p>我们还是使用上次教程的超级玛丽的例子，这次我们加入一个开始界面，和一个商店系统。</p>
<p><span style="color: #800000;">（1）首先加入一个开始画面，这里我们使用Image控件，将它铺满屏幕。同时我们再使用一个image控件，作为新游戏按钮</span></p>
<p><pre class="lang:java decode:true">openStage = new Stage(800, 480, false, batch);<br>//开始游戏舞台<br>Texture texture_open = new Texture(Gdx.files.internal(“data/open.png”));<br>Texture texture_button = new Texture(Gdx.files.internal(“data/btn_newgame.png”));<br>Texture texture_button2 = new Texture(Gdx.files.internal(“data/btn_shop.png”));<br>image_openStage_background = new Image(new TextureRegion(texture_open,800,480));<br>image_openStage_background.setPosition(0,0);<br>image_openStage_btn_newGame = new Image(texture_button);<br>image_openStage_btn_newGame.setPosition(80,380);<br>image_openStage_btn_shop = new Image(texture_button2);<br>image_openStage_btn_shop.setPosition(80,80);<br>openStage.addActor(image_openStage_background);<br>openStage.addActor(image_openStage_btn_newGame);<br>openStage.addActor(image_openStage_btn_shop);</pre><br><span style="color: #800000;">（2）使用一个布尔类型的变量来控制舞台的切换，这里我们就使用GameIsRunning。为了是开始界面的舞台</span><br><span style="color: #800000;">能启动，我们重写button的touchdown方法，将GameIsRunning赋值为真。</span></p>
<p><pre class="lang:java decode:true">public static boolean GameIsRunning = false;<br>public static boolean ShopIsRunning = false;<br>public static boolean SuccessIsRunning = false;</pre><br><span style="color: #800000;"> （3）在render（）方法中进行判断，然后将openStage画出来。</span></p>
<p><span style="color: #800000;">（4）通过上面的办法，我们就初步的实现了一个双舞台的切换，首先是在开始舞台上，</span><br><span style="color: #800000;">随后通过点击“新游戏”进入主游戏界面。</span></p>
<blockquote>
<p><span style="color: #3366ff;">我们要做的游戏商店，上面也提到了，并不是仅仅有2个舞台，他有3个舞台以上，所以我们需要在主游戏舞台上面，</span></p>
<p><span style="color: #3366ff;">再引入变量，来控制第二、第三个舞台的切换。其实原理是一样的。这里我们引入ShopIsRunning和SuccessIsRunning</span></p>
<p><span style="color: #3366ff;">分别来控制shop舞台和success舞台。</span></p>
<p><pre class="lang:java decode:true">//重置舞台监听<br>public void setStage(){<br>if(GameIsRunning){<br>Gdx.input.setInputProcessor(stage);<br>}else{<br>Gdx.input.setInputProcessor(openStage);<br>if(ShopIsRunning){<br>Gdx.input.setInputProcessor(shopStage);<br>if(SuccessIsRunning){<br>Gdx.input.setInputProcessor(successStage);<br>}<br>}<br>}<br>}<br>//重置舞台绘制<br>public void stageRender(){<br>if(GameIsRunning){<br>stage.act();<br>stage.draw();<br>}else{<br>openStage.act();<br>openStage.draw();<br>if(ShopIsRunning){<br>shopStage.act();<br>shopStage.draw();<br>if(SuccessIsRunning){<br>successStage.act();<br>successStage.draw();<br>}<br>}<br>}<br>}</pre><br><span style="color: #800000;"> （5）加入监听，同时通过重写touchdown方法来修改变量，从而控制舞台切换。</span></p>
<p><pre class="lang:java decode:true">image_openStage_btn_newGame.addListener(new InputListener(){<br>@Override<br>public boolean touchDown(InputEvent event, float x, float y,<br>int pointer, int button) {<br>GameIsRunning = true;<br>return true;<br>}<br>});</pre><br><span style="color: #800000;">（6）游戏初始化和设置图片位置。</span></p>
<p><pre class="lang:java decode:true">batch = new SpriteBatch();<br>stage = new Stage(800, 480, false, batch);<br>openStage = new Stage(800, 480, false, batch);<br>shopStage = new Stage(800, 480, false, batch);<br>successStage = new Stage(800, 480, false, batch);</pre></p>
</blockquote>
<p>//开始游戏舞台<br>Texture texture_open = new Texture(Gdx.files.internal(“data/open.png”));<br>Texture texture_button = new Texture(Gdx.files.internal(“data/btn_newgame.png”));<br>Texture texture_button2 = new Texture(Gdx.files.internal(“data/btn_shop.png”));<br>image_openStage_background = new Image(new TextureRegion(texture_open,800,480));<br>image_openStage_background.setPosition(0,0);<br>image_openStage_btn_newGame = new Image(texture_button);<br>image_openStage_btn_newGame.setPosition(80,380);<br>image_openStage_btn_shop = new Image(texture_button2);<br>image_openStage_btn_shop.setPosition(80,80);<br>openStage.addActor(image_openStage_background);<br>openStage.addActor(image_openStage_btn_newGame);<br>openStage.addActor(image_openStage_btn_shop);</p>
<p>//商店舞台<br>Texture texture_shop = new Texture(Gdx.files.internal(“data/shop.png”));<br>image_shopStage_background = new Image(new TextureRegion(texture_shop,0,85,512,350));<br>image_shopStage_btn_heart = new Image(new TextureRegion(texture_shop,0,0,102,85));<br>image_shopStage_btn_coin = new Image(new TextureRegion(texture_shop,102,0,102,85));<br>image_shopStage_btn_close = new Image(new TextureRegion(texture_shop,300,10,50,40));<br>image_shopStage_background.setPosition(0, 0);<br>image_shopStage_background.setSize(480,320);<br>image_shopStage_btn_heart.setPosition(190,50);<br>image_shopStage_btn_coin.setPosition(50,50);<br>image_shopStage_btn_close.setPosition(400,275);<br>shopStage.addActor(image_shopStage_background);<br>shopStage.addActor(image_shopStage_btn_heart);<br>shopStage.addActor(image_shopStage_btn_coin);<br>shopStage.addActor(image_shopStage_btn_close);</p>
<p>//购买舞台<br>image_successStage_success = new Image(new TextureRegion(texture_shop,512,0,255,255));<br>image_successStage_success.setPosition(100,100);<br>successStage.addActor(image_successStage_success);</p>
<p>//游戏舞台<br>image_stage_background = new Image(new Texture(Gdx.files.internal(“data/background.jpg”)));<br>Gdx.input.setInputProcessor(stage);<br>Person p = new Person(100,170);<br>stage.addActor(image_stage_background);<br>stage.addActor(p);<br>stage.addActor(p.btn_L);<br>stage.addActor(p.btn_R);<br>&nbsp;</p>
<p>至此，整个程序就算完成了。下面贴出整个例子的源码：(下一页)</p>
<!--nextpage-->
<p>例子源码：使用到的(Person类请见 7 演员类的使用 Actor 类)</p>
<p>&nbsp;</p>
<p><pre class="lang:java decode:true">package com.qsuron;</pre></p>
<p>import com.badlogic.gdx.ApplicationListener;<br>import com.badlogic.gdx.Gdx;<br>import com.badlogic.gdx.graphics.GL10;<br>import com.badlogic.gdx.graphics.Texture;<br>import com.badlogic.gdx.graphics.g2d.SpriteBatch;<br>import com.badlogic.gdx.graphics.g2d.TextureRegion;<br>import com.badlogic.gdx.scenes.scene2d.InputEvent;<br>import com.badlogic.gdx.scenes.scene2d.InputListener;<br>import com.badlogic.gdx.scenes.scene2d.Stage;<br>import com.badlogic.gdx.scenes.scene2d.ui.Image;</p>
<p>public class MyDemo implements ApplicationListener{<br>public static boolean GameIsRunning = false;<br>public static boolean ShopIsRunning = false;<br>public static boolean SuccessIsRunning = false;<br>SpriteBatch batch;<br>Image image_stage_background,<br>image_openStage_background,<br>image_openStage_btn_newGame,<br>image_openStage_btn_shop,<br>image_shopStage_background,<br>image_shopStage_btn_heart,<br>image_shopStage_btn_coin,<br>image_shopStage_btn_close,<br>image_successStage_success;<br>Stage stage,<br>openStage,<br>shopStage,<br>successStage;</p>
<p>@Override<br>public void create() {<br>batch = new SpriteBatch();<br>stage = new Stage(800, 480, false, batch);<br>openStage = new Stage(800, 480, false, batch);<br>shopStage = new Stage(800, 480, false, batch);<br>successStage = new Stage(800, 480, false, batch);</p>
<p>//开始游戏舞台<br>Texture texture_open = new Texture(Gdx.files.internal(“data/open.png”));<br>Texture texture_button = new Texture(Gdx.files.internal(“data/btn_newgame.png”));<br>Texture texture_button2 = new Texture(Gdx.files.internal(“data/btn_shop.png”));<br>image_openStage_background = new Image(new TextureRegion(texture_open,800,480));<br>image_openStage_background.setPosition(0,0);<br>image_openStage_btn_newGame = new Image(texture_button);<br>image_openStage_btn_newGame.setPosition(80,380);<br>image_openStage_btn_shop = new Image(texture_button2);<br>image_openStage_btn_shop.setPosition(80,80);<br>openStage.addActor(image_openStage_background);<br>openStage.addActor(image_openStage_btn_newGame);<br>openStage.addActor(image_openStage_btn_shop);</p>
<p>//商店舞台<br>Texture texture_shop = new Texture(Gdx.files.internal(“data/shop.png”));<br>image_shopStage_background = new Image(new TextureRegion(texture_shop,0,85,512,350));<br>image_shopStage_btn_heart = new Image(new TextureRegion(texture_shop,0,0,102,85));<br>image_shopStage_btn_coin = new Image(new TextureRegion(texture_shop,102,0,102,85));<br>image_shopStage_btn_close = new Image(new TextureRegion(texture_shop,300,10,50,40));<br>image_shopStage_background.setPosition(0, 0);<br>image_shopStage_background.setSize(480,320);<br>image_shopStage_btn_heart.setPosition(190,50);<br>image_shopStage_btn_coin.setPosition(50,50);<br>image_shopStage_btn_close.setPosition(400,275);<br>shopStage.addActor(image_shopStage_background);<br>shopStage.addActor(image_shopStage_btn_heart);<br>shopStage.addActor(image_shopStage_btn_coin);<br>shopStage.addActor(image_shopStage_btn_close);</p>
<p>//购买舞台<br>image_successStage_success = new Image(new TextureRegion(texture_shop,512,0,255,255));<br>image_successStage_success.setPosition(100,100);<br>successStage.addActor(image_successStage_success);</p>
<p>//游戏舞台<br>image_stage_background = new Image(new Texture(Gdx.files.internal(“data/background.jpg”)));<br>Gdx.input.setInputProcessor(stage);<br>Person p = new Person(100,170);<br>stage.addActor(image_stage_background);<br>stage.addActor(p);<br>stage.addActor(p.btn_L);<br>stage.addActor(p.btn_R);</p>
<p>//设置监听<br>this.setListener();<br>}</p>
<p>public void setListener() {<br>image_openStage_btn_newGame.addListener(new InputListener(){<br>@Override<br>public boolean touchDown(InputEvent event, float x, float y,<br>int pointer, int button) {<br>GameIsRunning = true;<br>return true;<br>}<br>});<br>image_openStage_btn_shop.addListener(new InputListener(){<br>@Override<br>public boolean touchDown(InputEvent event, float x, float y,<br>int pointer, int button) {<br>ShopIsRunning = true;<br>return true;<br>}<br>});<br>image_shopStage_btn_heart.addListener(new InputListener() {<br>           @Override<br>           public boolean touchDown(InputEvent event, float x, float y,<br>                   int pointer, int button) {<br>               SuccessIsRunning = true;<br>               return true;<br>           }<br>});<br>image_shopStage_btn_coin.addListener(new InputListener() {<br>           @Override<br>           public boolean touchDown(InputEvent event, float x, float y,<br>                   int pointer, int button) {<br>               SuccessIsRunning = true;<br>               return true;<br>           }<br>       });<br>image_shopStage_btn_close.addListener(new InputListener(){<br>@Override<br>           public boolean touchDown(InputEvent event, float x, float y,<br>                   int pointer, int button) {<br>               ShopIsRunning = false;<br>               return true;<br>           }<br>});<br>image_successStage_success.addListener(new InputListener(){<br>@Override<br>           public boolean touchDown(InputEvent event, float x, float y,<br>                   int pointer, int button) {<br>               SuccessIsRunning = false;<br>               return true;<br>           }<br>});<br>}</p>
<p>//重置舞台监听<br>public void setStage(){<br>if(GameIsRunning){<br>Gdx.input.setInputProcessor(stage);<br>}else{<br>Gdx.input.setInputProcessor(openStage);<br>if(ShopIsRunning){<br>Gdx.input.setInputProcessor(shopStage);<br>if(SuccessIsRunning){<br>Gdx.input.setInputProcessor(successStage);<br>}<br>}<br>}<br>}</p>
<p>//重置舞台绘制<br>public void stageRender(){<br>if(GameIsRunning){<br>stage.act();<br>stage.draw();<br>}else{<br>openStage.act();<br>openStage.draw();<br>if(ShopIsRunning){<br>shopStage.act();<br>shopStage.draw();<br>if(SuccessIsRunning){<br>successStage.act();<br>successStage.draw();<br>}<br>}<br>}<br>}</p>
<p>@Override<br>public void dispose() {<br>batch.dispose();<br>stage.dispose();<br>openStage.dispose();<br>shopStage.dispose();<br>successStage.dispose();<br>}</p>
<p>@Override<br>public void render() {<br>Gdx.gl.glClearColor(0,0,0, 0);<br>Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);<br>this.stageRender();<br>this.setStage();<br>}</p>
<p>@Override<br>public void resize(int width, int height) {<br>}</p>
<p>@Override<br>public void pause() {<br>}</p>
<p>@Override<br>public void resume() {<br>}</p>
<p>}<br>&nbsp;</p>
<p>这个例子，只是比较简单的舞台切换，当然了，正常游戏中是不这样设置舞台切换的，</p>
<p>这里只是拿最浅显易懂的东西来给大家说明，Stage类的使用和简单的切换，大家千万别以为游戏中就要这么使用。</p>
<p>希望大家通过简单的代码能理解Stage类的使用，能明白他的原理就可以了。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/03/18/actor/" itemprop="url">
                  LibGDX游戏引擎-7-演员类的使用(Actor)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-03-18T08:42:17+08:00" content="2014-03-18">
              2014-03-18
            </time>
          </span>

<span class="post-count">&nbsp; | &nbsp;字数 2,958</span>
<span class="post-count">&nbsp; | &nbsp;预计阅读 15分钟</span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/libGDX框架/" itemprop="url" rel="index">
                    <span itemprop="name">libGDX框架</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/03/18/actor/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/18/actor/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>上一节已经讲了常见演员的使用，本篇就整体说一下演员.</p>
<blockquote>
<p><span style="color: #ff0000;">Actor类</span><br><span style="color: #3366ff;"><span style="color: #800000;">API定义：</span></span></p>
</blockquote>
<p><span style="color: #3366ff;">在二维场景图中，一个演员拥有的位置，矩形的大小，起点，规模，旋转，和颜色等属性。</span><span style="color: #3366ff;">位置对应且不成比例。演员的位置是相对于演员的父母，它的起点是相对位置，同时可用于缩放和旋转。</span><span style="color: #3366ff;">一个演员也有一个行动，可以操纵的演员在时间段内活动，同时可以加入监听来实现演员接收事件通知。</span></p>
<p><span style="color: #800000;">功能分析：</span></p>
<p><span style="color: #3366ff;">（1）实现一个可以移动的人物。</span><br><span style="color: #3366ff;">（2）人物在不同时间段是播放不同的动画。</span><br><span style="color: #3366ff;">（3）人物分3中状态：左走、右走、空闲。</span><br><span style="color: #3366ff;">（4）通过2个按钮来实现状态的切换。</span><br><span style="color: #3366ff;">（5）添加游戏背景。</span></p>
<p><span style="color: #800000;">编码步骤：</span></p>
<p><span style="color: #339966;">（1）在核心代码项目中，新建一个Person的类，使Person继承Actor类，然后重写其中的draw方法。</span></p>
<p><pre class="lang:java decode:true">public class Person extends Actor</pre><br>&nbsp;</p>
<p><span style="color: #339966;">（2）声明变量，将坐标、时间、imagebutton、texture、动画、以及枚举类型等变量声明。</span></p>
<p><pre class="lang:java decode:true">public class Person extends Actor {<br>public float x;<br>public float y;<br>public float statetime;<br>//按钮<br>ImageButton  btn_L;<br>ImageButton  btn_R;<br>//人物当前状态(枚举类)<br>STATE state;<br>//对应的动画<br>Animation animation_left;<br>Animation animation_right;<br>Animation animation_idle;<br>//实时动画<br>TextureRegion currentFrame;</pre></p>
<p>enum STATE {<br>L,R,I;<br>};<br>}<br>&nbsp;</p>
<p><span style="color: #339966;">（3）设置成员变量。</span></p>
<p><pre class="lang:java decode:true">public Person(float x, float y) {<br>super();<br>this.x = x;<br>this.y = y;<br>this.statetime = 0;<br>this.show();<br>state = STATE.I;<br>}</pre><br>&nbsp;</p>
<p><span style="color: #339966;">（4）动画设置。</span></p>
<p><span style="color: #3366ff;">动画设置，都写在了show方法里面，这样其实不太好，很乱思路不清晰，这里作为例子就暂且这样</span><br><span style="color: #3366ff;">TextureRegion中有一个flip(boolean x, boolean y) 方法，他有2个参数。</span><br><span style="color: #3366ff;">第一个参数是负责确定是否沿X轴方向翻转，</span><br><span style="color: #3366ff;">第二个参数是负责确定是否沿Y轴方向翻转。</span></p>
<p><pre class="lang:java decode:true">public void show() {</pre></p>
<p>//分割动画<br>Texture animation_file = new Texture(Gdx.files.internal(“data/animation2-2.png”));<br>TextureRegion[][] animation_split_right = TextureRegion.split(animation_file,42,51);<br>TextureRegion[][] animation_split_left = TextureRegion.split(animation_file,42,51);<br>Texture animation_file2 = new Texture(Gdx.files.internal(“data/idle.png”));<br>TextureRegion[][] animation_split_idle = TextureRegion.split(animation_file2,42,51);</p>
<p>//实例化动画图片组<br>TextureRegion[] textureRegion_right = new TextureRegion[30];<br>TextureRegion[] textureRegion_left = new TextureRegion[30];<br>TextureRegion[] textureRegion_idle = new TextureRegion[1];</p>
<p>//向右动画图片组<br>int i = 0;<br>for(TextureRegion[] animation_split_right_split:animation_split_right){<br>for(TextureRegion animation_pic:animation_split_right_split){<br>textureRegion_right[i] = animation_pic;<br>i++;<br>}<br>}</p>
<p>//向左动画图片组<br>i = 0;<br>for(TextureRegion[] animation_split_left_split:animation_split_left){<br>for(TextureRegion animation_pic:animation_split_left_split){<br>textureRegion_left[i] = animation_pic;<br>textureRegion_left[i].flip(true,false);<br>i++;<br>}<br>}</p>
<p>//原地动画图片组<br>textureRegion_idle[0] = animation_split_idle[0][0];</p>
<p>//合成动画<br>animation_right = new Animation(0.08f,textureRegion_right);<br>animation_right.setPlayMode(Animation.LOOP);<br>animation_left = new Animation(0.08f,textureRegion_left);<br>animation_left.setPlayMode(Animation.LOOP);<br>animation_idle = new Animation(1f,textureRegion_idle);<br>animation_idle.setPlayMode(Animation.LOOP);</p>
<p>//按钮图片读取<br>Texture button_file = new Texture(Gdx.files.internal(“data/button.png”));<br>TextureRegion[][] button_split = TextureRegion.split(button_file,100,100);</p>
<p>//按钮实例化<br>btn_R = new ImageButton(<br>new TextureRegionDrawable(button_split[0][0]),<br>new TextureRegionDrawable(button_split[0][1]));<br>btn_L = new ImageButton(<br>new TextureRegionDrawable(button_split[0][2]),<br>new TextureRegionDrawable(button_split[0][3]));</p>
<p>//按钮位置<br>btn_R.setPosition(150,20);<br>btn_L.setPosition(20,20);<br>}<br><span style="color: #339966;">（5）设置按钮同时加入监听。</span><br><span style="color: #3366ff;">PS：这里的touchdown（）方法重写的时候一定要将后面的super返回值，</span><br><span style="color: #3366ff;">一定要修改为return true。因为只有按下方法返回true的情况下，touchup方法才执行，</span><br><span style="color: #3366ff;">这个需要大家注意，同时还touchup执行的时候要将状态赋会idle。 </span></p>
<p><pre class="lang:java decode:true">//按钮监听 (show 方法中继续添加监听即可)<br>btn_R.addListener(new InputListener(){<br>@Override<br>public boolean touchDown(InputEvent event, float x, float y,<br>int pointer, int button) {<br>state = STATE.R;<br>return true;<br>}<br>@Override<br>public void touchUp(InputEvent event, float x, float y,<br>int pointer, int button) {<br>state = STATE.I;<br>super.touchUp(event, x, y, pointer, button);<br>}<br>});</pre></p>
<p>btn_L.addListener(new InputListener(){<br>@Override<br>public boolean touchDown(InputEvent event, float x, float y,<br>int pointer, int button) {<br>state = STATE.L;<br>return true;<br>}<br>@Override<br>public void touchUp(InputEvent event, float x, float y,<br>int pointer, int button) {<br>state = STATE.I;<br>super.touchUp(event, x, y, pointer, button);<br>}<br>});<br>&nbsp;</p>
<p><span style="color: #339966;">（6）状态判断与动画选择</span></p>
<p><span style="color: #3366ff;">由于我们将人物动画分为左走的动画、右走的动画、和空闲的动画，这样我们就要在不同的状态下，</span><span style="color: #3366ff;">使用不同的动画，这样才能符合游戏逻辑，我们创建一个check（）方法来实现动画和状态的关联。</span><span style="color: #3366ff;">这里我们用currentFrame来给不同的状态赋值，最后将currentFrame画出来，这样可以节省许多代码。</span></p>
<p><pre class="lang:java decode:true">//状态控制与动画选择<br>public void check() {<br>if(this.state==STATE.L){<br>currentFrame = animation_left.getKeyFrame(statetime,true);<br>}else if(this.state==STATE.R){<br>currentFrame = animation_right.getKeyFrame(statetime,true);<br>}else if(this.state==STATE.I){<br>currentFrame = animation_idle.getKeyFrame(statetime,true);<br>}<br>}</pre><br><span style="color: #339966;">（7）人物移动。</span></p>
<p><span style="color: #3366ff;">其实人物移动的原理很简单，但是由于人类思考的误区，总是理解的不很清楚。为了构造人物移动的效果，</span><span style="color: #3366ff;">我们只是在不断变化的坐标的上，绘画出我们做好的动画。这个坐标，我们需要和人物的状态联系起来，</span><span style="color: #3366ff;">人物的状态又是按钮改变的，通过这几种联系，最后就实现了，通过按钮来控制动画的效果了。所以，</span><span style="color: #3366ff;">我们通过update（）方法来实现状态和坐标的联系，顺便设置一下“空气墙”，其实就是不让人物超过屏幕。</span></p>
<p><pre class="lang:java decode:true">//人物移动<br>public void update(){<br>if(state==STATE.L &amp;&amp; this.x&gt;20){<br>this.x -= 1f;<br>}else if(state==STATE.R &amp;&amp; this.x&lt;700){<br>this.x += 1f;<br>}<br>}</pre><br><span style="color: #339966;">（8）draw（）方法</span></p>
<p><span style="color: #3366ff;">演员类的draw方法中，默认提供给我们一个SpriteBatch和parentAlpha （透明度的意思），</span><br><span style="color: #3366ff;">然后我们需要在这里调用判断状态和负责移动的方法，即check（）和update（）方法。特别注意的是，</span><span style="color: #3366ff;">重写draw方法的时候SpriteBatch中已经给我们写好了 batch.begion 和batch.end方法，</span><br><span style="color: #3366ff;">所以我们只需要写batch.draw（）就可以了。这样我们就可以将我们做好的动画，在绘画出来.</span></p>
<p><pre class="lang:java decode:true">@Override<br>public void draw(SpriteBatch batch, float parentAlpha) {<br>statetime += Gdx.graphics.getDeltaTime();<br>this.update();<br>this.check();<br>batch.draw(currentFrame, x, y);<br>}</pre><br><span style="color: #339966;">(9)修改MyGame类</span></p>
<p><span style="color: #3366ff;">演员类必须需要使用到舞台，这是大家都知道的，所以我们在主类MyGdxGame里面，</span><br><span style="color: #3366ff;">添加一个Image控件作为背景，然后将Marion和Mario中的button控件加入到stage中。</span></p>
<p><pre class="lang:java decode:true">background = new Image(new Texture(Gdx.files.internal(“data/background.jpg”)));<br>stage = new Stage(800, 480, false);<br>Gdx.input.setInputProcessor(stage);<br>Person p = new Person(100,170);<br>stage.addActor(background);<br>stage.addActor(p);<br>stage.addActor(p.btn_L);<br>stage.addActor(p.btn_R);</pre></p>
<p>stage.act();<br>stage.draw();<br>&nbsp;</p>
<p>完整的例子代码如下：</p>
<!--nextpage-->
<p>完整的例子代码如下：</p>
<p>&nbsp;</p>
<p><span style="color: #ff0000;">主类：</span></p>
<p>&nbsp;</p>
<p><pre class="lang:java decode:true">package com.qsuron;</pre></p>
<p>import com.badlogic.gdx.ApplicationListener;<br>import com.badlogic.gdx.Gdx;<br>import com.badlogic.gdx.graphics.GL10;<br>import com.badlogic.gdx.graphics.Texture;<br>import com.badlogic.gdx.graphics.g2d.SpriteBatch;<br>import com.badlogic.gdx.scenes.scene2d.Stage;<br>import com.badlogic.gdx.scenes.scene2d.ui.Image;</p>
<p>public class MyDemo implements ApplicationListener{<br>SpriteBatch batch;<br>Image background;<br>Stage stage;</p>
<p>@Override<br>public void create() {</p>
<p>batch = new SpriteBatch();<br>background = new Image(new Texture(Gdx.files.internal(“data/background.jpg”)));<br>stage = new Stage(800, 480, false);<br>Gdx.input.setInputProcessor(stage);<br>Person p = new Person(100,170);<br>stage.addActor(background);<br>stage.addActor(p);<br>stage.addActor(p.btn_L);<br>stage.addActor(p.btn_R);<br>}</p>
<p>@Override<br>public void dispose() {<br>batch.dispose();<br>}</p>
<p>@Override<br>public void render() {</p>
<p>Gdx.gl.glClearColor(0,0,0, 0);<br>Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);<br>stage.act();<br>stage.draw();<br>}</p>
<p>@Override<br>public void resize(int width, int height) {<br>}</p>
<p>@Override<br>public void pause() {<br>}</p>
<p>@Override<br>public void resume() {<br>}</p>
<p>}<br><span style="color: #ff0000;"> </span></p>
<p>&nbsp;</p>
<p><span style="color: #ff0000;">演员类：</span></p>
<p><pre class="lang:java decode:true">package com.qsuron;</pre></p>
<p>import com.badlogic.gdx.Gdx;<br>import com.badlogic.gdx.graphics.Texture;<br>import com.badlogic.gdx.graphics.g2d.Animation;<br>import com.badlogic.gdx.graphics.g2d.SpriteBatch;<br>import com.badlogic.gdx.graphics.g2d.TextureRegion;<br>import com.badlogic.gdx.scenes.scene2d.Actor;<br>import com.badlogic.gdx.scenes.scene2d.InputEvent;<br>import com.badlogic.gdx.scenes.scene2d.InputListener;<br>import com.badlogic.gdx.scenes.scene2d.ui.ImageButton;<br>import com.badlogic.gdx.scenes.scene2d.utils.TextureRegionDrawable;</p>
<p>public class Person extends Actor {<br>public float x;<br>public float y;<br>public float statetime;</p>
<p>//按钮<br>ImageButton  btn_L;<br>ImageButton  btn_R;</p>
<p>//人物当前状态(枚举类)<br>STATE state;</p>
<p>//对应的动画<br>Animation animation_left;<br>Animation animation_right;<br>Animation animation_idle;</p>
<p>//实时动画<br>TextureRegion currentFrame;</p>
<p>public Person(float x, float y) {<br>super();<br>this.x = x;<br>this.y = y;<br>this.statetime = 0;<br>this.show();<br>state = STATE.I;<br>}</p>
<p>public void show() {</p>
<p>//分割动画<br>Texture animation_file = new Texture(Gdx.files.internal(“data/animation2-2.png”));<br>TextureRegion[][] animation_split_right = TextureRegion.split(animation_file,42,51);<br>TextureRegion[][] animation_split_left = TextureRegion.split(animation_file,42,51);<br>Texture animation_file2 = new Texture(Gdx.files.internal(“data/idle.png”));<br>TextureRegion[][] animation_split_idle = TextureRegion.split(animation_file2,42,51);</p>
<p>//实例化动画图片组<br>TextureRegion[] textureRegion_right = new TextureRegion[30];<br>TextureRegion[] textureRegion_left = new TextureRegion[30];<br>TextureRegion[] textureRegion_idle = new TextureRegion[1];</p>
<p>//向右动画图片组<br>int i = 0;<br>for(TextureRegion[] animation_split_right_split:animation_split_right){<br>for(TextureRegion animation_pic:animation_split_right_split){<br>textureRegion_right[i] = animation_pic;<br>i++;<br>}<br>}</p>
<p>//向左动画图片组<br>i = 0;<br>for(TextureRegion[] animation_split_left_split:animation_split_left){<br>for(TextureRegion animation_pic:animation_split_left_split){<br>textureRegion_left[i] = animation_pic;<br>textureRegion_left[i].flip(true,false);<br>i++;<br>}<br>}</p>
<p>//原地动画图片组<br>textureRegion_idle[0] = animation_split_idle[0][0];</p>
<p>//合成动画<br>animation_right = new Animation(0.08f,textureRegion_right);<br>animation_right.setPlayMode(Animation.LOOP);<br>animation_left = new Animation(0.08f,textureRegion_left);<br>animation_left.setPlayMode(Animation.LOOP);<br>animation_idle = new Animation(1f,textureRegion_idle);<br>animation_idle.setPlayMode(Animation.LOOP);</p>
<p>//按钮图片读取<br>Texture button_file = new Texture(Gdx.files.internal(“data/button.png”));<br>TextureRegion[][] button_split = TextureRegion.split(button_file,100,100);</p>
<p>//按钮实例化<br>btn_R = new ImageButton(<br>new TextureRegionDrawable(button_split[0][0]),<br>new TextureRegionDrawable(button_split[0][1]));<br>btn_L = new ImageButton(<br>new TextureRegionDrawable(button_split[0][2]),<br>new TextureRegionDrawable(button_split[0][3]));</p>
<p>//按钮位置<br>btn_R.setPosition(150,20);<br>btn_L.setPosition(20,20);</p>
<p>//按钮监听<br>btn_R.addListener(new InputListener(){<br>@Override<br>public boolean touchDown(InputEvent event, float x, float y,<br>int pointer, int button) {<br>state = STATE.R;<br>return true;<br>}<br>@Override<br>public void touchUp(InputEvent event, float x, float y,<br>int pointer, int button) {<br>state = STATE.I;<br>super.touchUp(event, x, y, pointer, button);<br>}<br>});</p>
<p>btn_L.addListener(new InputListener(){<br>@Override<br>public boolean touchDown(InputEvent event, float x, float y,<br>int pointer, int button) {<br>state = STATE.L;<br>return true;<br>}<br>@Override<br>public void touchUp(InputEvent event, float x, float y,<br>int pointer, int button) {<br>state = STATE.I;<br>super.touchUp(event, x, y, pointer, button);<br>}<br>});<br>}</p>
<p>//状态控制与动画选择<br>public void getFrame() {<br>if(this.state==STATE.L){<br>currentFrame = animation_left.getKeyFrame(statetime,true);<br>}else if(this.state==STATE.R){<br>currentFrame = animation_right.getKeyFrame(statetime,true);<br>}else if(this.state==STATE.I){<br>currentFrame = animation_idle.getKeyFrame(statetime,true);<br>}<br>}</p>
<p>//人物移动<br>public void update(){<br>if(state==STATE.L &amp;&amp; this.x&gt;20){<br>this.x -= 1f;<br>}else if(state==STATE.R &amp;&amp; this.x&lt;700){<br>this.x += 1f;<br>}<br>}</p>
<p>@Override<br>public void draw(SpriteBatch batch, float parentAlpha) {<br>statetime += Gdx.graphics.getDeltaTime();<br>this.update();<br>this.getFrame();<br>batch.draw(currentFrame, x, y);<br>}</p>
<p>enum STATE {<br>L,R,I;<br>};</p>
<p>}<br>&nbsp;</p>
<p>&nbsp;</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/03/18/wp-stats/" itemprop="url">
                  WP-Stats
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-03-18T08:27:58+08:00" content="2014-03-18">
              2014-03-18
            </time>
          </span>

<span class="post-count">&nbsp; | &nbsp;字数 3</span>
<span class="post-count">&nbsp; | &nbsp;预计阅读 0分钟</span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/网站动态/" itemprop="url" rel="index">
                    <span itemprop="name">网站动态</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/03/18/wp-stats/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/18/wp-stats/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[page_stats]</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/03/17/component/" itemprop="url">
                  LibGDX游戏引擎-6-常用控件(Component)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-03-17T22:34:47+08:00" content="2014-03-17">
              2014-03-17
            </time>
          </span>

<span class="post-count">&nbsp; | &nbsp;字数 2,882</span>
<span class="post-count">&nbsp; | &nbsp;预计阅读 15分钟</span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/libGDX框架/" itemprop="url" rel="index">
                    <span itemprop="name">libGDX框架</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/03/17/component/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/17/component/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><span style="color: #800000;">libgdx将每一个可以实现一定动作和效果的东西，全部定义为演员。同时libgdx也提供了一些自带的演员，本篇文章就这些常用的控件，或者说是演员，来做一个粗略的了解！</span></p>
<p><span style="color: #3366ff;">例如：标签，按钮，勾选框，下拉框，图片，输入框，列表，滑动面板，滑条，分割面板等等，这些都是演员，都是可以加入到舞台类中的，舞台这里先不做详细介绍，因为后面我会单独的给大家讲解下舞台类。演员类可以分为libgdx提供给我们的演员类，还有就是我们自己继承Actor然后自己写的演员类，</span></p>
<p>下面我就针对这2中分类给大家介绍下libgdx中的演员类。</p>
<p>列举 Label Image ImageButton这三个，分别是文字，图片，图片按钮  , 实例代码如下：</p>
<p><pre>package com.qsuron;</pre></p>
<p>import com.badlogic.gdx.ApplicationListener;<br>import com.badlogic.gdx.Gdx;<br>import com.badlogic.gdx.graphics.GL10;<br>import com.badlogic.gdx.graphics.Texture;<br>import com.badlogic.gdx.graphics.g2d.BitmapFont;<br>import com.badlogic.gdx.graphics.g2d.SpriteBatch;<br>import com.badlogic.gdx.graphics.g2d.TextureRegion;<br>import com.badlogic.gdx.scenes.scene2d.Stage;<br>import com.badlogic.gdx.scenes.scene2d.ui.Image;<br>import com.badlogic.gdx.scenes.scene2d.ui.ImageButton;<br>import com.badlogic.gdx.scenes.scene2d.ui.Label;<br>import com.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle;<br>import com.badlogic.gdx.scenes.scene2d.utils.TextureRegionDrawable;</p>
<p>public class MyDemo implements ApplicationListener{<br>private SpriteBatch batch;<br>private BitmapFont font;<br>private LabelStyle labelStyle;<br>private Stage stage;<br>private Label label;<br>private Image image;<br>private ImageButton imageButton;<br>private TextureRegionDrawable up = null;<br>private TextureRegionDrawable down = null;<br>private TextureRegionDrawable press = null;</p>
<p>@Override<br>public void create() {</p>
<p>int WIDTH = Gdx.graphics.getWidth();<br>int HEIGHT = Gdx.graphics.getHeight();<br>batch = new SpriteBatch();<br>//label<br>font = new BitmapFont(Gdx.files.internal(“data/test.fnt”),Gdx.files.internal(“data/test.png”),false);<br>labelStyle = new LabelStyle(font,font.getColor());<br>stage = new Stage(WIDTH,HEIGHT,true);//宽 高 锁定比率<br>label = new Label(“小树”,labelStyle);<br>label.setPosition(10,200);//设置坐标<br>label.setScale(2f);//设置显示倍数<br>stage.addActor(label);<br>//image<br>image = new Image(new Texture(Gdx.files.internal(“data/pic2.jpg”)));<br>image.setPosition(200,0);//绘画起点<br>image.setSize(320,240);//绘画大小<br>image.setScale(1.0F); //缩放比例<br>image.setOrigin(0,0); //设置旋转中心<br>image.setRotation(30); //旋转角度<br>stage.addActor(image);<br>//imageButton<br>TextureRegion tr[][] = TextureRegion.split(<br>new Texture(Gdx.files.internal(“data/ImageButton.png”)),100,100);<br>up = new TextureRegionDrawable(tr[0][0]);<br>down = new TextureRegionDrawable(tr[0][1]);<br>imageButton = new ImageButton(up,down);<br>imageButton.setPosition(100, 100);<br>stage.addActor(imageButton);<br>Gdx.input.setInputProcessor(stage);//让舞台接收输入<br>}</p>
<p>@Override<br>public void dispose() {<br>batch.dispose();<br>}</p>
<p>@Override<br>public void render() {</p>
<p>Gdx.gl.glClearColor(0,0,0, 0);<br>Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);<br>stage.act();<br>stage.draw();<br>}</p>
<p>@Override<br>public void resize(int width, int height) {<br>}</p>
<p>@Override<br>public void pause() {<br>}</p>
<p>@Override<br>public void resume() {<br>}</p>
<p>}<br>下面为大家介绍这三个常用演员的使用方法：</p>
<p>&nbsp;</p>
<!--nextpage-->
<p>一丶标签（Lable）</p>
<p><pre>Label(java.lang.CharSequence text, Label.LabelStyle style)</pre></p>
<h2 id="Label-java-lang-CharSequence-text-Skin-skin"><a href="#Label-java-lang-CharSequence-text-Skin-skin" class="headerlink" title="Label(java.lang.CharSequence text, Skin skin)"></a>Label(java.lang.CharSequence text, Skin skin)</h2><p>使用前：</p>
<blockquote>
<p>首先你需要创建一个hiero的.fnt和.png文件（如何创建请看土豆的教程三），</p>
<p>例如土豆就是创建的“Potato.fnt”“Potato.png”，然后传入“Potato.fnt”和“Potato.png”</p>
<h2 id="和“Color”就构成了一个LabelStyle。"><a href="#和“Color”就构成了一个LabelStyle。" class="headerlink" title="和“Color”就构成了一个LabelStyle。"></a>和“Color”就构成了一个LabelStyle。</h2></blockquote>
<p>&nbsp;</p>
<p>使用方法：</p>
<p><pre>BitmapFont font = new BitmapFont(fnt,png,是否旋转);<br>LabelStyle style = new LabelStyle(font,font.getColor());</pre><br>这样一个LabelStyle就实现了，下面就可使用它new出Label</p>
<p><pre>Stage stage = new Stage(WIDTH,HEIGHT,true);//宽 高 锁定比率<br>Label label = new Label(“小树”,labelStyle);<br>label.setPosition(10,200);//设置坐标<br>label.setScale(2f);//设置显示倍数<br>stage.addActor(label);</pre><br>在render方法中</p>
<p><pre>stage.act();<br>stage.draw();</pre><br><span style="color: #3366ff;"> 通过API可以看出，前面的参数是一个字符串，后面是一个lableStyle，然后第二个lable参数设置，</span><br><span style="color: #3366ff;">第一个是字符串，第二个是一个skin类型的参数。lable自带了一些方法，</span><br><span style="color: #3366ff;">比如设置旋转、拉伸、位置、大小等。由于lable控件是属于actor类，</span><br><span style="color: #3366ff;">所以应该加入到舞台中去展示出来，关于舞台我会在后面详细给大家讲解，这里简单用一下舞台。</span></p>
<p>代码：</p>
<p><pre>package com.qsuron;</pre></p>
<p>import com.badlogic.gdx.ApplicationListener;<br>import com.badlogic.gdx.Gdx;<br>import com.badlogic.gdx.graphics.GL10;<br>import com.badlogic.gdx.graphics.g2d.BitmapFont;<br>import com.badlogic.gdx.graphics.g2d.SpriteBatch;<br>import com.badlogic.gdx.scenes.scene2d.Stage;<br>import com.badlogic.gdx.scenes.scene2d.ui.Label;<br>import com.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle;</p>
<p>public class MyDemo implements ApplicationListener{<br>private SpriteBatch batch;<br>private BitmapFont font;<br>private LabelStyle labelStyle;<br>private Stage stage;<br>private Label label;</p>
<p>@Override<br>public void create() {</p>
<p>int WIDTH = Gdx.graphics.getWidth();<br>int HEIGHT = Gdx.graphics.getHeight();<br>batch = new SpriteBatch();<br>font = new BitmapFont(Gdx.files.internal(“data/test.fnt”),Gdx.files.internal(“data/test.png”),false);<br>labelStyle = new LabelStyle(font,font.getColor());<br>stage = new Stage(WIDTH,HEIGHT,true);//宽 高 锁定比率<br>label = new Label(“小树”,labelStyle);<br>label.setPosition(10,200);//设置坐标<br>label.setScale(2f);//设置显示倍数<br>stage.addActor(label);<br>}</p>
<p>@Override<br>public void dispose() {<br>batch.dispose();<br>}</p>
<p>@Override<br>public void render() {</p>
<p>Gdx.gl.glClearColor(0,0,0, 0);<br>Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);<br>stage.act();<br>stage.draw();<br>}</p>
<p>@Override<br>public void resize(int width, int height) {<br>}</p>
<p>@Override<br>public void pause() {<br>}</p>
<p>@Override<br>public void resume() {<br>}</p>
<p>}<br><!--nextpage--></p>
<p><div>二、Image控件（图片）————————————————————————————-</div></p>
<h2 id="Image-Texture-texture-和-Image-TextureRegion-region-比较常用"><a href="#Image-Texture-texture-和-Image-TextureRegion-region-比较常用" class="headerlink" title="Image(Texture texture) 和 Image(TextureRegion region)  比较常用"></a><pre>Image(Texture texture) 和 Image(TextureRegion region)  比较常用</pre></h2><p><span style="color: #3366ff;">API定义：在一个小范围内，显示和拉伸一个纹理。首选的的参数是负责尺寸的。</span></p>
<h2 id="仅当使用一个TextureRegionDrawable的演员时候才使用拉伸，旋转，和设置起点来赋值给所使用的图片。"><a href="#仅当使用一个TextureRegionDrawable的演员时候才使用拉伸，旋转，和设置起点来赋值给所使用的图片。" class="headerlink" title="仅当使用一个TextureRegionDrawable的演员时候才使用拉伸，旋转，和设置起点来赋值给所使用的图片。"></a><span style="color: #3366ff;">仅当使用一个TextureRegionDrawable的演员时候才使用拉伸，旋转，和设置起点来赋值给所使用的图片。</span></h2><p>常用方法:</p>
<p><pre>VictoriaImage.setColor(Color.PINK); //颜色<br>VictoriaImage.setScale(0.5F); //缩放比例<br>VictoriaImage.setPosition(230, 40); //绘画起点<br>VictoriaImage.setOrigin(0, 0); //设置旋转中心<br>VictoriaImage.setRotation(45); //旋转角度</pre></p>
<h2 id="VictoriaImage-setSize-390-300-绘画大小"><a href="#VictoriaImage-setSize-390-300-绘画大小" class="headerlink" title="VictoriaImage.setSize(390, 300); //绘画大小"></a>VictoriaImage.setSize(390, 300); //绘画大小</h2><p>例子代码：</p>
<p><pre>package com.me.mygdxgame;</pre></p>
<p>import com.badlogic.gdx.ApplicationListener;<br>import com.badlogic.gdx.Gdx;<br>import com.badlogic.gdx.graphics.Color;<br>import com.badlogic.gdx.graphics.GL10;<br>import com.badlogic.gdx.graphics.OrthographicCamera;<br>import com.badlogic.gdx.graphics.Texture;<br>import com.badlogic.gdx.graphics.Texture.TextureFilter;<br>import com.badlogic.gdx.graphics.g2d.BitmapFont;<br>import com.badlogic.gdx.graphics.g2d.Sprite;<br>import com.badlogic.gdx.graphics.g2d.SpriteBatch;<br>import com.badlogic.gdx.graphics.g2d.TextureRegion;<br>import com.badlogic.gdx.scenes.scene2d.Stage;<br>import com.badlogic.gdx.scenes.scene2d.ui.Label;<br>import com.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle;<br>import com.badlogic.gdx.scenes.scene2d.ui.Image;<br>import com.badlogic.gdx.scenes.scene2d.ui.Skin;<br>import com.badlogic.gdx.scenes.scene2d.ui.Table;</p>
<p>public class MyGdxGame implements ApplicationListener {</p>
<p>   Stage stage;<br>   Image VictoriaImage;<br>   TextureRegion region;<br>   Texture tex;</p>
<p>   @Override<br>   public void create() {<br>       tex = new Texture(Gdx.files.internal(“data/1.png”));<br>       region = new TextureRegion(tex, 0, 0, 512, 512);<br>       VictoriaImage = new Image(region);<br>       VictoriaImage.setColor(Color.PINK);<br>       VictoriaImage.setScale(0.5F);<br>       VictoriaImage.setPosition(230, 40);<br>       VictoriaImage.setOrigin(0, 0);// 设置旋转中心<br>       VictoriaImage.setRotation(45);<br>       VictoriaImage.setSize(390, 300);<br>       stage = new Stage(480, 320, false);<br>       Gdx.input.setInputProcessor(stage);<br>       stage.addActor(VictoriaImage);<br>   }</p>
<p>   @Override<br>   public void dispose() {</p>
<p>   }</p>
<p>   @Override<br>   public void render() {<br>       Gdx.gl.glClearColor(1, 1, 1, 1);<br>       Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);<br>       stage.act();<br>       stage.draw();</p>
<p>   }</p>
<p>   @Override<br>   public void resize(int width, int height) {<br>   }</p>
<p>   @Override<br>   public void pause() {<br>   }</p>
<p>   @Override<br>   public void resume() {<br>   }<br>}<br><br><!--nextpage--></p>
<p><div>三丶按钮（Button）————————————————————————————-<br><span style="color: #3366ff;">ImageButton(Drawable imageUp, Drawable imageDown, Drawable imageChecked) //弹起  按下  按击</span></div></p>
<h2 id="ImageButton-Skin-skin"><a href="#ImageButton-Skin-skin" class="headerlink" title="ImageButton(Skin skin) "></a><span style="color: #3366ff;">ImageButton(Skin skin) </span></h2><p><span style="color: #3366ff;">Drawable类：在已知的一个给定的矩形内，绘制本身。它提供了边框的大小和最小尺寸，</span><br><span style="color: #3366ff;">通过它自带的方法，可以确定的大小和位置。其实他就是为了image提供一个矩形区域，</span><br><span style="color: #3366ff;">这里大家不要搞混淆，他只是提供区域，但是没有规定一定button必须画成矩形。</span></p>
<h2 id="我们使用下面这组图片作为button的image，这也是在网上随便找的"><a href="#我们使用下面这组图片作为button的image，这也是在网上随便找的" class="headerlink" title="我们使用下面这组图片作为button的image，这也是在网上随便找的"></a><span style="color: #3366ff;">我们使用下面这组图片作为button的image，这也是在网上随便找的</span></h2><p>使用代码如下：</p>
<p><pre>TextureRegion tr[][] = TextureRegion.split(<br>ew Texture(Gdx.files.internal(“data/ImageButton.png”)),100,100);<br>up = new TextureRegionDrawable(tr[0][0]);<br>down = new TextureRegionDrawable(tr[0][1]);<br>imageButton = new ImageButton(up,down);<br>imageButton.setPosition(100, 100);<br>stage.addActor(imageButton);</pre></p>
<h2 id="Gdx-input-setInputProcessor-stage-让舞台接收输入"><a href="#Gdx-input-setInputProcessor-stage-让舞台接收输入" class="headerlink" title="Gdx.input.setInputProcessor(stage);//让舞台接收输入"></a>Gdx.input.setInputProcessor(stage);//让舞台接收输入</h2><p><span style="color: #3366ff;">这里的 TextureRegion[][] tmp = TextureRegion.split(tex, 120, 120);</span></p>
<h2 id="参考-第5篇-动画绘制"><a href="#参考-第5篇-动画绘制" class="headerlink" title="参考   第5篇 -  动画绘制"></a><span style="color: #3366ff;">参考   <a href="http://www.qiushurong.cn/2014/03/16/animation/" title="LibGDX游戏引擎-5-动画绘制(Animation)" target="_blank" rel="external"><span style="color: #800000;">第5篇 -  动画绘制</span></a></span></h2><p>完整代码：</p>
<p><pre>package com.me.mygdxgame;</pre></p>
<p>import com.badlogic.gdx.ApplicationListener;<br>import com.badlogic.gdx.Gdx;<br>import com.badlogic.gdx.graphics.Color;<br>import com.badlogic.gdx.graphics.GL10;<br>import com.badlogic.gdx.graphics.OrthographicCamera;<br>import com.badlogic.gdx.graphics.Texture;<br>import com.badlogic.gdx.graphics.Texture.TextureFilter;<br>import com.badlogic.gdx.graphics.g2d.BitmapFont;<br>import com.badlogic.gdx.graphics.g2d.Sprite;<br>import com.badlogic.gdx.graphics.g2d.SpriteBatch;<br>import com.badlogic.gdx.graphics.g2d.TextureRegion;<br>import com.badlogic.gdx.scenes.scene2d.Stage;<br>import com.badlogic.gdx.scenes.scene2d.ui.ImageButton;<br>import com.badlogic.gdx.scenes.scene2d.ui.Label;<br>import com.badlogic.gdx.scenes.scene2d.ui.Label.LabelStyle;<br>import com.badlogic.gdx.scenes.scene2d.ui.Image;<br>import com.badlogic.gdx.scenes.scene2d.ui.Skin;<br>import com.badlogic.gdx.scenes.scene2d.ui.Table;<br>import com.badlogic.gdx.scenes.scene2d.utils.TextureRegionDrawable;</p>
<p>public class MyGdxGame implements ApplicationListener {</p>
<p>   Stage stage;<br>   TextureRegionDrawable up;<br>   TextureRegionDrawable down;<br>   TextureRegion buttonUp;<br>   TextureRegion buttonDown;<br>   Texture tex;<br>   ImageButton button;</p>
<p>   @Override<br>   public void create() {<br>       tex = new Texture(Gdx.files.internal(“data/control.png”));<br>       TextureRegion[][] tmp = TextureRegion.split(tex, 120, 120);</p>
<pre><code>buttonUp = tmp[0][0];

buttonDown = tmp[0][1];

up = new TextureRegionDrawable(buttonUp);
down = new TextureRegionDrawable(buttonDown);

button = new ImageButton(up, down);

button.setPosition(100, 100);

stage = new Stage(480, 320, false);
Gdx.input.setInputProcessor(stage);
stage.addActor(button);
</code></pre><p>   }</p>
<p>   @Override<br>   public void dispose() {</p>
<p>   }</p>
<p>   @Override<br>   public void render() {<br>       Gdx.gl.glClearColor(1, 1, 1, 1);<br>       Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);<br>       stage.act();<br>       stage.draw();</p>
<p>   }</p>
<p>   @Override<br>   public void resize(int width, int height) {<br>   }</p>
<p>   @Override<br>   public void pause() {<br>   }</p>
<p>   @Override<br>   public void resume() {<br>   }<br>}<br>&nbsp;</p>
<p><span style="background-color: #ccffcc;">PS:</span><span style="background-color: #ccffcc;">大家可能看到模拟器上面的按钮看起来好像被拉伸了，这样按钮会不会很失败，</span><br><span style="background-color: #ccffcc;">请大家放心，将来在游戏中我们用相机后，这个问题就会自然解决的，所以不必担心。</span></p>
<p><br>&nbsp;</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/03/17/dns-bug/" itemprop="url">
                  2014-03-17 服务器DNS出问题了,正在和中国电信修復中.
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-03-17T19:56:17+08:00" content="2014-03-17">
              2014-03-17
            </time>
          </span>

<span class="post-count">&nbsp; | &nbsp;字数 162</span>
<span class="post-count">&nbsp; | &nbsp;预计阅读 1分钟</span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/网站动态/" itemprop="url" rel="index">
                    <span itemprop="name">网站动态</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/03/17/dns-bug/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/17/dns-bug/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><span style="color: #3366ff;">今天下午我本机访问博客的网速一直很慢很慢，做了多番尝试和修改都无济于事，觉得应该是服务器那边出问题了。</span></p>
<p><span style="color: #3366ff;">联系他们客服，服务器提供商的工作人员 回复：</span><br><span style="color: #800000;">Sena Yang // 職員</span></p>
<blockquote>
<p><span style="color: #800000;">您好！已經收到數據中心回覆, 電信網路接入香港有誤, 正和中國電信修復。</span><br><span style="color: #3366ff;">希望这种事情不要老是发生，很影响网站的正常运营和SEO。</span></p>
</blockquote>
<p>&nbsp;</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2014/03/16/animation/" itemprop="url">
                  LibGDX游戏引擎-5-动画绘制(Animation)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2014-03-16T13:05:54+08:00" content="2014-03-16">
              2014-03-16
            </time>
          </span>

<span class="post-count">&nbsp; | &nbsp;字数 1,291</span>
<span class="post-count">&nbsp; | &nbsp;预计阅读 6分钟</span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/libGDX框架/" itemprop="url" rel="index">
                    <span itemprop="name">libGDX框架</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/03/16/animation/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2014/03/16/animation/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一个游戏的动态展示是非常重要的，这期间必定对动画的定义要深入底层，我们都知道动画其实也就是由一张一张图片快速播放形成的，libgdx给我们提供了一个专门负责管理动画的Animation类，是专门负责做动画的管理和放映的。</p>
<blockquote>
<p><span style="color: #ff0000;">Animation类 (动画容器)</span></p>
</blockquote>
<hr>
<p><span style="color: #0000ff;">Api定义：动画是由多个帧，在设定的时间间隔序列显示。比如，一个跑步的人一个动画可以通过运行时播放这些图像无限拍照他了。</span></p>
<hr>
<p><span style="color: #0000ff;">功能用法：管理动画，设置随即播放模式和播放顺序。</span></p>
<hr>
<p><span style="color: #0000ff;">使用方法： walkAnimation = new Animation(float fDuration, keyFrames)</span></p>
<hr>
<p>第一个参数是播放每一帧的时间，后面是一个TestureRegion。下面我给大家介绍下，Animation的原理，下图显示了一个完整的运行一个周期。它被称为精灵表。每个矩形是一个精灵，它被称为一个框架。先创建运行动画，在精灵要绘制后，随着时间的推移，绘制另一个矩形内的图片。<br>一般动画都是用一张图片，然后配合TextureRegion来实现的。下面我们官方的动画来做演示</p>
<hr>
<p><span style="color: #0000ff;">代码解读:</span></p>
<p>由于代码比较繁多，而且许多都是土豆之前讲解过的，所以这里土豆挑一些比较重要的来讲解下。这里我列举了几个，如：TextureRegion[][]数组、setPlayMode（）方法、statetime的设置、</p>
<p><span style="color: #0000ff;">（1）TextureRegion[][]数组</span></p>
<p>代码：TextureRegion[][] tmp = TextureRegion.split(walkSheet, walkSheet.getWidth() / FRAME_COLS, walkSheet.getHeight() /FRAME_ROWS);</p>
<p>这个段代码是怎么回事呢？他是采用分离式的方法分分割传入的纹理，将获得的纹理分为一个二维数组。记住，前提是分割的矩形大小相等。然后使用临时变量，填充walkframes数组。这是样使用起来很方便。</p>
<p><span style="color: #0000ff;">（2） SetPlayMode（）方法</span></p>
<p>它是Animation类自己封装的一个方法，是用来设置播放模式的，其中它提供的模式有6种：NORMAL、REVERSED、LOOP、LOOP_REVERSED、LOOP_PINGPONG、LOOP_RANDOM、。<br>NORMAL：这个不用说了，就是正常的播放模式。<br>REVERSED：反向播放，从后向前播放，这个就像人物倒退的跑。<br>LOOP：持续播放，这个比较常用。<br>LOOP_REVERSED：持续倒退播放。<br>LOOP_PINGPONG: 向前播放几张图片，再向后播放几帧图片。</p>
<p><span style="color: #0000ff;">（3） StateTime 使用</span></p>
<p>代码stateTime += Gdx.graphics.getDeltaTime()，他是一个获取一个状态下所持续的一个时间。就像我们在现实世界使用的时间一样，一般配合系统时间使用Gdx.graphics.getDeltaTime()：获取系统渲染时间，一般默认是0.173秒。</p>
<hr>
<p><span style="color: #ff0000;">详细实现:</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<pre class="lang:java decode:true" title="使用方法">package com.potato;

import com.badlogic.gdx.ApplicationListener;
import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.graphics.Color;
import com.badlogic.gdx.graphics.GL10;
import com.badlogic.gdx.graphics.OrthographicCamera;
import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.graphics.Texture.TextureFilter;
import com.badlogic.gdx.graphics.g2d.Animation;
import com.badlogic.gdx.graphics.g2d.BitmapFont;
import com.badlogic.gdx.graphics.g2d.Sprite;
import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import com.badlogic.gdx.graphics.g2d.TextureRegion;
import com.badlogic.gdx.graphics.g2d.freetype.FreeTypeFontGenerator;
import com.badlogic.gdx.graphics.g2d.freetype.FreeTypeFontGenerator.FreeTypeBitmapFontData;
import com.badlogic.gdx.graphics.g2d.tiled.TileAtlas;
import com.badlogic.gdx.graphics.g2d.tiled.TileMapRenderer;
import com.badlogic.gdx.graphics.g2d.tiled.TiledLoader;
import com.badlogic.gdx.graphics.g2d.tiled.TiledMap;

public class Map implements ApplicationListener {
   private static final int FRAME_COLS = 6;
   private static final int FRAME_ROWS = 5;

   Animation walkAnimation;
   Texture walkSheet;
   TextureRegion[] walkFrames;
   SpriteBatch batch;
   TextureRegion currentFrame;
   float stateTime;

   @Override
   public void create() {
       walkSheet = new Texture(Gdx.files.internal("animation_sheet.png"));
       TextureRegion[][] tmp = TextureRegion.split(walkSheet,
               walkSheet.getWidth() / FRAME_COLS, walkSheet.getHeight()
                       / FRAME_ROWS);
       walkFrames = new TextureRegion[FRAME_COLS * FRAME_ROWS];
       int index = 0;
       for (int i = 0; i &lt; FRAME_ROWS; i++) {
           for (int j = 0; j &lt; FRAME_COLS; j++) {
               walkFrames[index++] = tmp[i][j];
           }
       }
       walkAnimation = new Animation(0.025f, walkFrames);
       walkAnimation.setPlayMode(walkAnimation.LOOP_PINGPONG);
       batch = new SpriteBatch();
       stateTime = 0f;
   }

   @Override
   public void render() {
       Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);
       stateTime += Gdx.graphics.getDeltaTime();

       currentFrame = walkAnimation.getKeyFrame(stateTime, true);

       batch.begin();
       batch.draw(currentFrame, Gdx.graphics.getWidth() / 2,
               Gdx.graphics.getHeight() / 2);
       batch.end();
   }
   @Override
   public void resize(int width, int height) {
       // TODO Auto-generated method stub
   }
   @Override
   public void pause() {
       // TODO Auto-generated method stub
   }
   @Override
   public void resume() {
       // TODO Auto-generated method stub
   }
   @Override
   public void dispose() {
       // TODO Auto-generated method stub
   }
}</pre>
**例子：**
<pre class="lang:java decode:true" title="例子">package com.qsuron;

import com.badlogic.gdx.ApplicationListener;
import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.graphics.Color;
import com.badlogic.gdx.graphics.GL10;
import com.badlogic.gdx.graphics.Texture;
import com.badlogic.gdx.graphics.g2d.Animation;
import com.badlogic.gdx.graphics.g2d.BitmapFont;
import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import com.badlogic.gdx.graphics.g2d.TextureRegion;

public class MyDemo implements ApplicationListener{
private static final int ROW = 5;
private static final int COL = 6;

private SpriteBatch batch;
private Animation animation;
private Texture texture;
private TextureRegion currentFrame;
private TextureRegion[] walkFrame;
private TextureRegion[][] array;
private BitmapFont font;
private float stateTime;

@Override
public void create() {
batch = new SpriteBatch();
texture = new Texture(Gdx.files.internal("data/animation.png"));
walkFrame = new TextureRegion[ROW*COL];
array = TextureRegion.split(texture,texture.getWidth()/COL, texture.getHeight()/ROW);//图片是5行6列
for(int i=0;i&lt;ROW;i++){
for(int j=0;j&lt;COL;j++){
walkFrame[i*COL+j] = array[i][j];
}
}
animation = new Animation(0.05f,walkFrame);
animation.setPlayMode(Animation.LOOP_PINGPONG);
stateTime = 0;
font = new BitmapFont();
font.setColor(Color.RED);
font.setScale(3.0f);
}

@Override
public void dispose() {
batch.dispose();
}

@Override
public void render() {
Gdx.gl.glClearColor(0,0,0, 0);
Gdx.gl.glClear(GL10.GL_COLOR_BUFFER_BIT);
stateTime += Gdx.graphics.getRawDeltaTime();
currentFrame = animation.getKeyFrame(stateTime,true);
batch.begin();
batch.draw(currentFrame,0,200);
batch.draw(texture,50,20);
font.draw(batch,"X", currentFrame.getRegionX()+55,currentFrame.getRegionY()+65);
font.draw(batch,"LibGDX - Animation Demo By qsuron", 0,320);
batch.end();
}

@Override
public void resize(int width, int height) {
}

@Override
public void pause() {
}

@Override
public void resume() {
}

}
</pre>
          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/head.jpg"
               alt="邱树荣" />
          <p class="site-author-name" itemprop="name">邱树荣</p>
          <p class="site-description motion-element" itemprop="description">致力于计算机程式开发</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">110</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">195</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="powered-by" >
  
  <span itemprop="copyrightYear">&copy;2016 - 2026</span>

  <a style="" class="theme-link" href="https://qiushurong.github.io">
    小树技术博客
  </a>

</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  粤ICP备<a class="theme-link" href="https://qiushurong.github.io">
    15021480
  </a>号
</div>

        

        
      </div>
    </footer>

    <!--qsuron20160418 返回顶部更换为火箭
    div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div-->

    <a id="rocket" href="#top" class=""></a>


  </div>


  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"qsuron"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
      
      <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
      <script src="/js/src/hook-duoshuo.js"></script>
    
  





  
  
  

  

  

</body>
</html>
